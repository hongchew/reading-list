{
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list-services/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar database = require('./database/index').getDb();\n\nvar app = (0, _express[\"default\"])();\napp.use(_express[\"default\"].json());\napp.get('/test', function (req, res) {\n  res.send({\n    test: \"test text\"\n  });\n});\napp.get('/', function (req, res) {\n  res.send(\"\\n        <h1>Test Express Home</h1>\\n            <p>try out other endpoints on localhost:3001</p>\\n    \");\n});\napp.get('/book/details', function (req, res) {\n  var book = req.body;\n  res.json({\n    book: {\n      id: book.id,\n      details: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n    }\n  });\n});\napp.post('book/comment', function (req, res) {});\napp.listen(3001, function () {\n  return console.log('**** Listening on port 3001 ****');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRhdGFiYXNlIiwicmVxdWlyZSIsImdldERiIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwidGVzdCIsImJvb2siLCJib2R5IiwiaWQiLCJkZXRhaWxzIiwicG9zdCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxJQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxrQkFBRCxDQUFQLENBQTRCQyxLQUE1QixFQUFqQjs7QUFHQSxJQUFNQyxHQUFHLEdBQUcsMEJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFRQyxJQUFSLEVBQVI7QUFFQUgsR0FBRyxDQUFDSSxHQUFKLENBQVEsT0FBUixFQUFpQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUMzQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsSUFBSSxFQUFHO0FBREYsR0FBVDtBQUdILENBSkQ7QUFNQVIsR0FBRyxDQUFDSSxHQUFKLENBQVEsR0FBUixFQUFhLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3ZCQSxFQUFBQSxHQUFHLENBQUNDLElBQUo7QUFJSCxDQUxEO0FBT0FQLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLGVBQVIsRUFBeUIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDbkMsTUFBSUcsSUFBSSxHQUFHSixHQUFHLENBQUNLLElBQWY7QUFFQUosRUFBQUEsR0FBRyxDQUFDSCxJQUFKLENBQVM7QUFDTE0sSUFBQUEsSUFBSSxFQUFHO0FBQ0hFLE1BQUFBLEVBQUUsRUFBR0YsSUFBSSxDQUFDRSxFQURQO0FBRUhDLE1BQUFBLE9BQU8sRUFBRztBQUZQO0FBREYsR0FBVDtBQU9ILENBVkQ7QUFZQVosR0FBRyxDQUFDYSxJQUFKLENBQVMsY0FBVCxFQUF5QixVQUFDUixHQUFELEVBQU1DLEdBQU4sRUFBYyxDQUV0QyxDQUZEO0FBS0FOLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLElBQVgsRUFBaUI7QUFBQSxTQUNmQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWixDQURlO0FBQUEsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2hvbmdjaGV3L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9yZWFkaW5nLWxpc3Qtc2VydmljZXMvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5jb25zdCBkYXRhYmFzZSA9IHJlcXVpcmUoJy4vZGF0YWJhc2UvaW5kZXgnKS5nZXREYigpO1xuXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG5cbmFwcC5nZXQoJy90ZXN0JywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgICB0ZXN0IDogXCJ0ZXN0IHRleHRcIlxuICAgIH0pXG59KVxuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoYFxuICAgICAgICA8aDE+VGVzdCBFeHByZXNzIEhvbWU8L2gxPlxuICAgICAgICAgICAgPHA+dHJ5IG91dCBvdGhlciBlbmRwb2ludHMgb24gbG9jYWxob3N0OjMwMDE8L3A+XG4gICAgYClcbn0pXG5cbmFwcC5nZXQoJy9ib29rL2RldGFpbHMnLCAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgYm9vayA9IHJlcS5ib2R5XG5cbiAgICByZXMuanNvbih7XG4gICAgICAgIGJvb2sgOiB7XG4gICAgICAgICAgICBpZCA6IGJvb2suaWQsXG4gICAgICAgICAgICBkZXRhaWxzIDogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS4gVXQgZW5pbSBhZCBtaW5pbSB2ZW5pYW0sIHF1aXMgbm9zdHJ1ZCBleGVyY2l0YXRpb24gdWxsYW1jbyBsYWJvcmlzIG5pc2kgdXQgYWxpcXVpcCBleCBlYSBjb21tb2RvIGNvbnNlcXVhdC4gRHVpcyBhdXRlIGlydXJlIGRvbG9yIGluIHJlcHJlaGVuZGVyaXQgaW4gdm9sdXB0YXRlIHZlbGl0IGVzc2UgY2lsbHVtIGRvbG9yZSBldSBmdWdpYXQgbnVsbGEgcGFyaWF0dXIuIEV4Y2VwdGV1ciBzaW50IG9jY2FlY2F0IGN1cGlkYXRhdCBub24gcHJvaWRlbnQsIHN1bnQgaW4gY3VscGEgcXVpIG9mZmljaWEgZGVzZXJ1bnQgbW9sbGl0IGFuaW0gaWQgZXN0IGxhYm9ydW0uXCJcbiAgICAgICAgfSAgXG4gICAgfSlcblxufSlcblxuYXBwLnBvc3QoJ2Jvb2svY29tbWVudCcsIChyZXEsIHJlcykgPT4ge1xuXG59KVxuXG5cbmFwcC5saXN0ZW4oMzAwMSwgKCkgPT5cbiAgY29uc29sZS5sb2coJyoqKiogTGlzdGVuaW5nIG9uIHBvcnQgMzAwMSAqKioqJyksXG4pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "database",
        "require",
        "getDb",
        "app",
        "use",
        "express",
        "json",
        "get",
        "req",
        "res",
        "send",
        "test",
        "book",
        "body",
        "id",
        "details",
        "post",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;AACA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,kBAAD,CAAP,CAA4BC,KAA5B,EAAjB;;AAGA,IAAMC,GAAG,GAAG,0BAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AAEAH,GAAG,CAACI,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3BA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AACLC,IAAAA,IAAI,EAAG;AADF,GAAT;AAGH,CAJD;AAMAR,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ;AAIH,CALD;AAOAP,GAAG,CAACI,GAAJ,CAAQ,eAAR,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnC,MAAIG,IAAI,GAAGJ,GAAG,CAACK,IAAf;AAEAJ,EAAAA,GAAG,CAACH,IAAJ,CAAS;AACLM,IAAAA,IAAI,EAAG;AACHE,MAAAA,EAAE,EAAGF,IAAI,CAACE,EADP;AAEHC,MAAAA,OAAO,EAAG;AAFP;AADF,GAAT;AAOH,CAVD;AAYAZ,GAAG,CAACa,IAAJ,CAAS,cAAT,EAAyB,UAACR,GAAD,EAAMC,GAAN,EAAc,CAEtC,CAFD;AAKAN,GAAG,CAACc,MAAJ,CAAW,IAAX,EAAiB;AAAA,SACfC,OAAO,CAACC,GAAR,CAAY,kCAAZ,CADe;AAAA,CAAjB",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
      "sourcesContent": [
        "import express from 'express';\nconst database = require('./database/index').getDb();\n\n\nconst app = express();\napp.use(express.json())\n\napp.get('/test', (req, res) => {\n    res.send({\n        test : \"test text\"\n    })\n})\n\napp.get('/', (req, res) => {\n    res.send(`\n        <h1>Test Express Home</h1>\n            <p>try out other endpoints on localhost:3001</p>\n    `)\n})\n\napp.get('/book/details', (req, res) => {\n    var book = req.body\n\n    res.json({\n        book : {\n            id : book.id,\n            details : \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n        }  \n    })\n\n})\n\napp.post('book/comment', (req, res) => {\n\n})\n\n\napp.listen(3001, () =>\n  console.log('**** Listening on port 3001 ****'),\n);"
      ]
    },
    "sourceType": "script",
    "mtime": 1578348781501
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar db = new _sequelize[\"default\"]({\n  dialect: 'sqlite',\n  storage: './database.sqlite'\n});\ndb.sync();\n\nvar Book =\n/*#__PURE__*/\nfunction (_Sequelize$Model) {\n  _inherits(Book, _Sequelize$Model);\n\n  function Book() {\n    _classCallCheck(this, Book);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Book).apply(this, arguments));\n  }\n\n  return Book;\n}(_sequelize[\"default\"].Model);\n\nBook.init({\n  id: {\n    type: _sequelize[\"default\"].STRING,\n    allowNull: false,\n    primaryKey: true\n  },\n  title: {\n    type: _sequelize[\"default\"].STRING,\n    allowNull: false\n  },\n  author: {\n    type: _sequelize[\"default\"].STRING,\n    allowNull: false\n  },\n  details: {\n    type: _sequelize[\"default\"].STRING\n  }\n}, {\n  sequelize: db,\n  modelName: 'Book'\n});\nBook.sync();\n\nvar init =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", Promise.all([Book.create({\n              id: 1,\n              title: \"Harry Potter and the Philosopher's Stone\",\n              author: \"J. K. Rowling\",\n              details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments: [{\n                  author: \"Daniel\",\n                  content: \"This is an amazing book!\"\n                }, {\n                  author: \"Keith\",\n                  content: \"Old but gold\"\n                }]\n              })\n            }), Book.create({\n              id: 2,\n              title: \"Harry Potter and the Chamber of Secrets\",\n              author: \"J. K. Rowling\",\n              details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments: [{\n                  author: \"Angela\",\n                  content: \"I can't believe the plot twist!\"\n                }, {\n                  author: \"Bili\",\n                  content: \"I've read it 20 times already\"\n                }]\n              })\n            }), Book.create({\n              id: 3,\n              title: \"Harry Potter and the Prisoner of Azkaban\",\n              author: \"J. K. Rowling\",\n              details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments: [{\n                  author: \"Evelyn\",\n                  content: \"What can I do without this book?\"\n                }, {\n                  author: \"Charles\",\n                  content: \"I really love it\"\n                }]\n              })\n            })]));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function init() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports.getDb = function () {\n  init().then(function () {\n    return db;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwiU2VxdWVsaXplIiwiZGlhbGVjdCIsInN0b3JhZ2UiLCJzeW5jIiwiQm9vayIsIk1vZGVsIiwiaW5pdCIsImlkIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0aXRsZSIsImF1dGhvciIsImRldGFpbHMiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJQcm9taXNlIiwiYWxsIiwiY3JlYXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlc2NyaXB0aW9uIiwiY29tbWVudHMiLCJjb250ZW50IiwibW9kdWxlIiwiZXhwb3J0cyIsImdldERiIiwidGhlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQUlBLEVBQUUsR0FBRyxJQUFJQyxxQkFBSixDQUFjO0FBQ25CQyxFQUFBQSxPQUFPLEVBQUUsUUFEVTtBQUVuQkMsRUFBQUEsT0FBTyxFQUFFO0FBRlUsQ0FBZCxDQUFUO0FBSUFILEVBQUUsQ0FBQ0ksSUFBSDs7SUFHTUMsSTs7Ozs7Ozs7Ozs7O0VBQWFKLHNCQUFVSyxLOztBQUM3QkQsSUFBSSxDQUFDRSxJQUFMLENBQVU7QUFDTkMsRUFBQUEsRUFBRSxFQUFFO0FBQ0FDLElBQUFBLElBQUksRUFBRVIsc0JBQVVTLE1BRGhCO0FBRUFDLElBQUFBLFNBQVMsRUFBRSxLQUZYO0FBR0FDLElBQUFBLFVBQVUsRUFBRTtBQUhaLEdBREU7QUFNTkMsRUFBQUEsS0FBSyxFQUFFO0FBQ0hKLElBQUFBLElBQUksRUFBRVIsc0JBQVVTLE1BRGI7QUFFSEMsSUFBQUEsU0FBUyxFQUFFO0FBRlIsR0FORDtBQVVORyxFQUFBQSxNQUFNLEVBQUU7QUFDSkwsSUFBQUEsSUFBSSxFQUFFUixzQkFBVVMsTUFEWjtBQUVKQyxJQUFBQSxTQUFTLEVBQUU7QUFGUCxHQVZGO0FBY05JLEVBQUFBLE9BQU8sRUFBRTtBQUNMTixJQUFBQSxJQUFJLEVBQUVSLHNCQUFVUztBQURYO0FBZEgsQ0FBVixFQWlCRTtBQUNFTSxFQUFBQSxTQUFTLEVBQUdoQixFQURkO0FBRUVpQixFQUFBQSxTQUFTLEVBQUU7QUFGYixDQWpCRjtBQXNCQVosSUFBSSxDQUFDRCxJQUFMOztBQUVBLElBQU1HLElBQUk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBCQUFHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw2Q0FDRlcsT0FBTyxDQUFDQyxHQUFSLENBQ0gsQ0FDSWQsSUFBSSxDQUFDZSxNQUFMLENBQVk7QUFDWlosY0FBQUEsRUFBRSxFQUFFLENBRFE7QUFFWkssY0FBQUEsS0FBSyxFQUFFLDBDQUZLO0FBR1pDLGNBQUFBLE1BQU0sRUFBRSxlQUhJO0FBSVpDLGNBQUFBLE9BQU8sRUFBRU0sSUFBSSxDQUFDQyxTQUFMLENBQWU7QUFDcEJDLGdCQUFBQSxXQUFXLEVBQUUsNkhBRE87QUFFcEJDLGdCQUFBQSxRQUFRLEVBQUcsQ0FDUDtBQUNJVixrQkFBQUEsTUFBTSxFQUFHLFFBRGI7QUFFSVcsa0JBQUFBLE9BQU8sRUFBRztBQUZkLGlCQURPLEVBS1A7QUFDSVgsa0JBQUFBLE1BQU0sRUFBRyxPQURiO0FBRUlXLGtCQUFBQSxPQUFPLEVBQUc7QUFGZCxpQkFMTztBQUZTLGVBQWY7QUFKRyxhQUFaLENBREosRUFtQkFwQixJQUFJLENBQUNlLE1BQUwsQ0FBWTtBQUNSWixjQUFBQSxFQUFFLEVBQUUsQ0FESTtBQUVSSyxjQUFBQSxLQUFLLEVBQUUseUNBRkM7QUFHUkMsY0FBQUEsTUFBTSxFQUFFLGVBSEE7QUFJUkMsY0FBQUEsT0FBTyxFQUFFTSxJQUFJLENBQUNDLFNBQUwsQ0FBZTtBQUNwQkMsZ0JBQUFBLFdBQVcsRUFBRSw2SEFETztBQUVwQkMsZ0JBQUFBLFFBQVEsRUFBRyxDQUNQO0FBQ0lWLGtCQUFBQSxNQUFNLEVBQUcsUUFEYjtBQUVJVyxrQkFBQUEsT0FBTyxFQUFHO0FBRmQsaUJBRE8sRUFLUDtBQUNJWCxrQkFBQUEsTUFBTSxFQUFHLE1BRGI7QUFFSVcsa0JBQUFBLE9BQU8sRUFBRztBQUZkLGlCQUxPO0FBRlMsZUFBZjtBQUpELGFBQVosQ0FuQkEsRUFxQ0FwQixJQUFJLENBQUNlLE1BQUwsQ0FBWTtBQUNSWixjQUFBQSxFQUFFLEVBQUUsQ0FESTtBQUVSSyxjQUFBQSxLQUFLLEVBQUUsMENBRkM7QUFHUkMsY0FBQUEsTUFBTSxFQUFFLGVBSEE7QUFJUkMsY0FBQUEsT0FBTyxFQUFFTSxJQUFJLENBQUNDLFNBQUwsQ0FBZTtBQUNwQkMsZ0JBQUFBLFdBQVcsRUFBRSw2SEFETztBQUVwQkMsZ0JBQUFBLFFBQVEsRUFBRyxDQUNQO0FBQ0lWLGtCQUFBQSxNQUFNLEVBQUcsUUFEYjtBQUVJVyxrQkFBQUEsT0FBTyxFQUFHO0FBRmQsaUJBRE8sRUFLUDtBQUNJWCxrQkFBQUEsTUFBTSxFQUFHLFNBRGI7QUFFSVcsa0JBQUFBLE9BQU8sRUFBRztBQUZkLGlCQUxPO0FBRlMsZUFBZjtBQUpELGFBQVosQ0FyQ0EsQ0FERyxDQURFOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQUg7O0FBQUEsa0JBQUpsQixJQUFJO0FBQUE7QUFBQTtBQUFBLEdBQVY7O0FBNkRBbUIsTUFBTSxDQUFDQyxPQUFQLENBQWVDLEtBQWYsR0FBdUIsWUFBTTtBQUN6QnJCLEVBQUFBLElBQUksR0FBR3NCLElBQVAsQ0FBYTtBQUFBLFdBQU83QixFQUFQO0FBQUEsR0FBYjtBQUNILENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2hvbmdjaGV3L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9yZWFkaW5nLWxpc3Qtc2VydmljZXMvc3JjL2RhdGFiYXNlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuXG5sZXQgZGIgPSBuZXcgU2VxdWVsaXplKHtcbiAgICBkaWFsZWN0OiAnc3FsaXRlJyxcbiAgICBzdG9yYWdlOiAnLi9kYXRhYmFzZS5zcWxpdGUnXG59KVxuZGIuc3luYygpO1xuXG5cbmNsYXNzIEJvb2sgZXh0ZW5kcyBTZXF1ZWxpemUuTW9kZWwge31cbkJvb2suaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0aG9yOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2VcbiAgICB9LFxuICAgIGRldGFpbHM6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklOR1xuICAgIH1cbn0se1xuICAgIHNlcXVlbGl6ZSA6IGRiLFxuICAgIG1vZGVsTmFtZTogJ0Jvb2snXG59KVxuXG5Cb29rLnN5bmMoKTtcblxuY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIFtcbiAgICAgICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgUGhpbG9zb3BoZXIncyBTdG9uZVwiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiRGFuaWVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJUaGlzIGlzIGFuIGFtYXppbmcgYm9vayFcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIktlaXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJPbGQgYnV0IGdvbGRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiAyLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgQ2hhbWJlciBvZiBTZWNyZXRzXCIsXG4gICAgICAgICAgICBhdXRob3I6IFwiSi4gSy4gUm93bGluZ1wiLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLlwiLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJBbmdlbGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIkkgY2FuJ3QgYmVsaWV2ZSB0aGUgcGxvdCB0d2lzdCFcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIkJpbGlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIkkndmUgcmVhZCBpdCAyMCB0aW1lcyBhbHJlYWR5XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICBCb29rLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogMyxcbiAgICAgICAgICAgIHRpdGxlOiBcIkhhcnJ5IFBvdHRlciBhbmQgdGhlIFByaXNvbmVyIG9mIEF6a2FiYW5cIixcbiAgICAgICAgICAgIGF1dGhvcjogXCJKLiBLLiBSb3dsaW5nXCIsXG4gICAgICAgICAgICBkZXRhaWxzOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuXCIsXG4gICAgICAgICAgICAgICAgY29tbWVudHMgOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIkV2ZWx5blwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA6IFwiV2hhdCBjYW4gSSBkbyB3aXRob3V0IHRoaXMgYm9vaz9cIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIkNoYXJsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIkkgcmVhbGx5IGxvdmUgaXRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICBdKVxufVxuXG5cbm1vZHVsZS5leHBvcnRzLmdldERiID0gKCkgPT4ge1xuICAgIGluaXQoKS50aGVuKCAoKSA9PiAgZGIpXG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "Sequelize",
        "dialect",
        "storage",
        "sync",
        "Book",
        "Model",
        "init",
        "id",
        "type",
        "STRING",
        "allowNull",
        "primaryKey",
        "title",
        "author",
        "details",
        "sequelize",
        "modelName",
        "Promise",
        "all",
        "create",
        "JSON",
        "stringify",
        "description",
        "comments",
        "content",
        "module",
        "exports",
        "getDb",
        "then"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nlet db = new Sequelize({\n    dialect: 'sqlite',\n    storage: './database.sqlite'\n})\ndb.sync();\n\n\nclass Book extends Sequelize.Model {}\nBook.init({\n    id: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true\n    },\n    title: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    author: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    details: {\n        type: Sequelize.STRING\n    }\n},{\n    sequelize : db,\n    modelName: 'Book'\n})\n\nBook.sync();\n\nconst init = async () => {\n    return Promise.all(\n        [\n            Book.create({\n            id: 1,\n            title: \"Harry Potter and the Philosopher's Stone\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Daniel\",\n                        content : \"This is an amazing book!\"\n                    },\n                    {\n                        author : \"Keith\",\n                        content : \"Old but gold\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: 2,\n            title: \"Harry Potter and the Chamber of Secrets\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Angela\",\n                        content : \"I can't believe the plot twist!\"\n                    },\n                    {\n                        author : \"Bili\",\n                        content : \"I've read it 20 times already\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: 3,\n            title: \"Harry Potter and the Prisoner of Azkaban\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Evelyn\",\n                        content : \"What can I do without this book?\"\n                    },\n                    {\n                        author : \"Charles\",\n                        content : \"I really love it\"\n                    }\n                ]\n            })\n        })\n    ])\n}\n\n\nmodule.exports.getDb = () => {\n    init().then( () =>  db)\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1578348981795
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list-services/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst database = require(\"./database\");\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\napp.get('/test', (req, res) => {\n  res.send({\n    success: true\n  });\n});\napp.get('/', (req, res) => {\n  res.send(`\n        <h1>Test Express Home</h1>\n        <p>try out other endpoints on localhost:3001</p>\n    `);\n});\napp.post('/book/details', (req, res) => {\n  var book = req.body;\n  database.getDetails(book).then(details => {\n    res.json(details);\n  }).catch(e => console.error(e));\n});\napp.post('/book/comment', (req, res) => {\n  var book = req.body.book;\n  var comment = req.body.comment;\n  database.addComment(book, comment).then(val => {\n    res.json(val);\n  }).catch(e => console.error(e));\n});\napp.listen(3001, () => console.log('**** Listening on port 3001 ****'));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRhdGFiYXNlIiwicmVxdWlyZSIsImFwcCIsInVzZSIsImV4cHJlc3MiLCJqc29uIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsInN1Y2Nlc3MiLCJwb3N0IiwiYm9vayIsImJvZHkiLCJnZXREZXRhaWxzIiwidGhlbiIsImRldGFpbHMiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjb21tZW50IiwiYWRkQ29tbWVudCIsInZhbCIsImxpc3RlbiIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsR0FBRyxHQUFHLHVCQUFaO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUMsSUFBUixFQUFSO0FBRUFILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLE9BQVIsRUFBaUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDM0JBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTO0FBQ0xDLElBQUFBLE9BQU8sRUFBRztBQURMLEdBQVQ7QUFHSCxDQUpEO0FBTUFSLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVU7OztLQUFWO0FBSUgsQ0FMRDtBQU9BUCxHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCLENBQUNKLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3BDLE1BQUlJLElBQUksR0FBR0wsR0FBRyxDQUFDTSxJQUFmO0FBRUFiLEVBQUFBLFFBQVEsQ0FBQ2MsVUFBVCxDQUFvQkYsSUFBcEIsRUFDS0csSUFETCxDQUNZQyxPQUFELElBQWE7QUFDaEJSLElBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTVyxPQUFUO0FBQ0gsR0FITCxFQUlLQyxLQUpMLENBSVdDLENBQUMsSUFBSUMsT0FBTyxDQUFDQyxLQUFSLENBQWNGLENBQWQsQ0FKaEI7QUFPSCxDQVZEO0FBWUFoQixHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCLENBQUNKLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3BDLE1BQUlJLElBQUksR0FBR0wsR0FBRyxDQUFDTSxJQUFKLENBQVNELElBQXBCO0FBQ0EsTUFBSVMsT0FBTyxHQUFHZCxHQUFHLENBQUNNLElBQUosQ0FBU1EsT0FBdkI7QUFFQXJCLEVBQUFBLFFBQVEsQ0FBQ3NCLFVBQVQsQ0FBb0JWLElBQXBCLEVBQTBCUyxPQUExQixFQUNLTixJQURMLENBQ1dRLEdBQUcsSUFBSTtBQUNWZixJQUFBQSxHQUFHLENBQUNILElBQUosQ0FBU2tCLEdBQVQ7QUFDSCxHQUhMLEVBSUtOLEtBSkwsQ0FJV0MsQ0FBQyxJQUFJQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsQ0FBZCxDQUpoQjtBQUtILENBVEQ7QUFZQWhCLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQ2ZMLE9BQU8sQ0FBQ00sR0FBUixDQUFZLGtDQUFaLENBREYiLCJzb3VyY2VSb290IjoiL1VzZXJzL2hvbmdjaGV3L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9yZWFkaW5nLWxpc3Qtc2VydmljZXMvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmNvbnN0IGRhdGFiYXNlID0gcmVxdWlyZShcIi4vZGF0YWJhc2VcIilcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSlcblxuYXBwLmdldCgnL3Rlc3QnLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZCh7XG4gICAgICAgIHN1Y2Nlc3MgOiB0cnVlXG4gICAgfSlcbn0pXG5cbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZChgXG4gICAgICAgIDxoMT5UZXN0IEV4cHJlc3MgSG9tZTwvaDE+XG4gICAgICAgIDxwPnRyeSBvdXQgb3RoZXIgZW5kcG9pbnRzIG9uIGxvY2FsaG9zdDozMDAxPC9wPlxuICAgIGApXG59KVxuXG5hcHAucG9zdCgnL2Jvb2svZGV0YWlscycsIChyZXEsIHJlcykgPT4ge1xuICAgIHZhciBib29rID0gcmVxLmJvZHlcbiAgICBcbiAgICBkYXRhYmFzZS5nZXREZXRhaWxzKGJvb2spXG4gICAgICAgIC50aGVuKCAoZGV0YWlscykgPT4ge1xuICAgICAgICAgICAgcmVzLmpzb24oZGV0YWlscylcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcblxuXG59KVxuXG5hcHAucG9zdCgnL2Jvb2svY29tbWVudCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHZhciBib29rID0gcmVxLmJvZHkuYm9va1xuICAgIHZhciBjb21tZW50ID0gcmVxLmJvZHkuY29tbWVudFxuXG4gICAgZGF0YWJhc2UuYWRkQ29tbWVudChib29rLCBjb21tZW50KVxuICAgICAgICAudGhlbiggdmFsID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHZhbClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcbn0pXG5cblxuYXBwLmxpc3RlbigzMDAxLCAoKSA9PlxuICBjb25zb2xlLmxvZygnKioqKiBMaXN0ZW5pbmcgb24gcG9ydCAzMDAxICoqKionKSxcbik7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "database",
        "require",
        "app",
        "use",
        "express",
        "json",
        "get",
        "req",
        "res",
        "send",
        "success",
        "post",
        "book",
        "body",
        "getDetails",
        "then",
        "details",
        "catch",
        "e",
        "console",
        "error",
        "comment",
        "addComment",
        "val",
        "listen",
        "log"
      ],
      "mappings": ";;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AAEAH,GAAG,CAACI,GAAJ,CAAQ,OAAR,EAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AACLC,IAAAA,OAAO,EAAG;AADL,GAAT;AAGH,CAJD;AAMAR,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAU;;;KAAV;AAIH,CALD;AAOAP,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0B,CAACJ,GAAD,EAAMC,GAAN,KAAc;AACpC,MAAII,IAAI,GAAGL,GAAG,CAACM,IAAf;AAEAb,EAAAA,QAAQ,CAACc,UAAT,CAAoBF,IAApB,EACKG,IADL,CACYC,OAAD,IAAa;AAChBR,IAAAA,GAAG,CAACH,IAAJ,CAASW,OAAT;AACH,GAHL,EAIKC,KAJL,CAIWC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAJhB;AAOH,CAVD;AAYAhB,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0B,CAACJ,GAAD,EAAMC,GAAN,KAAc;AACpC,MAAII,IAAI,GAAGL,GAAG,CAACM,IAAJ,CAASD,IAApB;AACA,MAAIS,OAAO,GAAGd,GAAG,CAACM,IAAJ,CAASQ,OAAvB;AAEArB,EAAAA,QAAQ,CAACsB,UAAT,CAAoBV,IAApB,EAA0BS,OAA1B,EACKN,IADL,CACWQ,GAAG,IAAI;AACVf,IAAAA,GAAG,CAACH,IAAJ,CAASkB,GAAT;AACH,GAHL,EAIKN,KAJL,CAIWC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAJhB;AAKH,CATD;AAYAhB,GAAG,CAACsB,MAAJ,CAAW,IAAX,EAAiB,MACfL,OAAO,CAACM,GAAR,CAAY,kCAAZ,CADF",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src",
      "sourcesContent": [
        "import express from 'express';\n\nconst database = require(\"./database\")\n\nconst app = express();\napp.use(express.json())\n\napp.get('/test', (req, res) => {\n    res.send({\n        success : true\n    })\n})\n\napp.get('/', (req, res) => {\n    res.send(`\n        <h1>Test Express Home</h1>\n        <p>try out other endpoints on localhost:3001</p>\n    `)\n})\n\napp.post('/book/details', (req, res) => {\n    var book = req.body\n    \n    database.getDetails(book)\n        .then( (details) => {\n            res.json(details)\n        })\n        .catch(e => console.error(e))\n\n\n})\n\napp.post('/book/comment', (req, res) => {\n    var book = req.body.book\n    var comment = req.body.comment\n\n    database.addComment(book, comment)\n        .then( val => {\n            res.json(val)\n        })\n        .catch(e => console.error(e))\n})\n\n\napp.listen(3001, () =>\n  console.log('**** Listening on port 3001 ****'),\n);"
      ]
    },
    "sourceType": "script",
    "mtime": 1578360577230
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet db = new _sequelize.default({\n  dialect: 'sqlite',\n  storage: './database.sqlite'\n});\ndb.sync();\n\nclass Book extends _sequelize.default.Model {}\n\nBook.init({\n  id: {\n    type: _sequelize.default.STRING,\n    allowNull: false,\n    primaryKey: true\n  },\n  title: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  author: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  details: {\n    type: _sequelize.default.STRING\n  }\n}, {\n  sequelize: db,\n  modelName: 'Book'\n});\nBook.sync();\n\nconst init = async () => {\n  if (await Book.findOne({\n    where: {\n      id: 1\n    }\n  })) {\n    return Promise.resolve();\n  }\n\n  return Promise.all([Book.create({\n    id: \"1\",\n    title: \"Harry Potter and the Philosopher's Stone\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        author: \"Daniel\",\n        content: \"This is an amazing book!\"\n      }, {\n        author: \"Keith\",\n        content: \"Old but gold\"\n      }]\n    })\n  }), Book.create({\n    id: \"2\",\n    title: \"Harry Potter and the Chamber of Secrets\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        author: \"Angela\",\n        content: \"I can't believe the plot twist!\"\n      }, {\n        author: \"Bili\",\n        content: \"I've read it 20 times already\"\n      }]\n    })\n  }), Book.create({\n    id: \"3\",\n    title: \"Harry Potter and the Prisoner of Azkaban\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        author: \"Evelyn\",\n        content: \"What can I do without this book?\"\n      }, {\n        author: \"Charles\",\n        content: \"I really love it\"\n      }]\n    })\n  })]);\n};\n\ninit().then(() => db);\n\nconst createBook = async book => {\n  let newBook = await Book.create({\n    id: book.id,\n    title: book.title,\n    author: book.author,\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: []\n    })\n  });\n  newBook.details = JSON.parse(newBook.details);\n  return newBook.get();\n};\n\nmodule.exports.getDetails = async book => {\n  console.log(book);\n  let dbBook = await Book.findOne({\n    where: {\n      id: book.id\n    }\n  });\n\n  if (!dbBook) {\n    return await createBook(book);\n  }\n\n  dbBook.details = JSON.parse(dbBook.details);\n  return dbBook;\n};\n\nmodule.exports.addComment = async (book, comment) => {\n  let dbBook = await Book.findOne({\n    where: {\n      id: book.id\n    }\n  });\n\n  if (!dbBook) {\n    dbBook = await createBook(book);\n  } else {\n    dbBook = dbBook.get();\n    dbBook.details = JSON.parse(dbBook.details);\n  }\n\n  dbBook.details.comments.push(comment);\n  return await Book.update({\n    details: JSON.stringify(dbBook.details)\n  }, {\n    where: {\n      id: book.id\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwiU2VxdWVsaXplIiwiZGlhbGVjdCIsInN0b3JhZ2UiLCJzeW5jIiwiQm9vayIsIk1vZGVsIiwiaW5pdCIsImlkIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0aXRsZSIsImF1dGhvciIsImRldGFpbHMiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJmaW5kT25lIiwid2hlcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFsbCIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNjcmlwdGlvbiIsImNvbW1lbnRzIiwiY29udGVudCIsInRoZW4iLCJjcmVhdGVCb29rIiwiYm9vayIsIm5ld0Jvb2siLCJwYXJzZSIsImdldCIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXREZXRhaWxzIiwiY29uc29sZSIsImxvZyIsImRiQm9vayIsImFkZENvbW1lbnQiLCJjb21tZW50IiwicHVzaCIsInVwZGF0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLElBQUlBLEVBQUUsR0FBRyxJQUFJQyxrQkFBSixDQUFjO0FBQ25CQyxFQUFBQSxPQUFPLEVBQUUsUUFEVTtBQUVuQkMsRUFBQUEsT0FBTyxFQUFFO0FBRlUsQ0FBZCxDQUFUO0FBSUFILEVBQUUsQ0FBQ0ksSUFBSDs7QUFHQSxNQUFNQyxJQUFOLFNBQW1CSixtQkFBVUssS0FBN0IsQ0FBbUM7O0FBQ25DRCxJQUFJLENBQUNFLElBQUwsQ0FBVTtBQUNOQyxFQUFBQSxFQUFFLEVBQUU7QUFDQUMsSUFBQUEsSUFBSSxFQUFFUixtQkFBVVMsTUFEaEI7QUFFQUMsSUFBQUEsU0FBUyxFQUFFLEtBRlg7QUFHQUMsSUFBQUEsVUFBVSxFQUFFO0FBSFosR0FERTtBQU1OQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEosSUFBQUEsSUFBSSxFQUFFUixtQkFBVVMsTUFEYjtBQUVIQyxJQUFBQSxTQUFTLEVBQUU7QUFGUixHQU5EO0FBVU5HLEVBQUFB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QSxJQUFBQSxNQUFNLEdBQUcsTUFBTVYsVUFBVSxDQUFDQyxJQUFELENBQXpCO0FBQ0gsR0FGRCxNQUVLO0FBQ0RTLElBQUFBLE1BQU0sR0FBR0EsTUFBTSxDQUFDTixHQUFQLEVBQVQ7QUFDQU0sSUFBQUEsTUFBTSxDQUFDekIsT0FBUCxHQUFpQlMsSUFBSSxDQUFDUyxLQUFMLENBQVdPLE1BQU0sQ0FBQ3pCLE9BQWxCLENBQWpCO0FBQ0g7O0FBRUR5QixFQUFBQSxNQUFNLENBQUN6QixPQUFQLENBQWVZLFFBQWYsQ0FBd0JnQixJQUF4QixDQUE2QkQsT0FBN0I7QUFFQSxTQUFPLE1BQU1yQyxJQUFJLENBQUN1QyxNQUFMLENBQVk7QUFDckI3QixJQUFBQSxPQUFPLEVBQUdTLElBQUksQ0FBQ0MsU0FBTCxDQUFlZSxNQUFNLENBQUN6QixPQUF0QjtBQURXLEdBQVosRUFFVjtBQUNDSSxJQUFBQSxLQUFLLEVBQUU7QUFDSFgsTUFBQUEsRUFBRSxFQUFHdUIsSUFBSSxDQUFDdkI7QUFEUDtBQURSLEdBRlUsQ0FBYjtBQVFILENBeEJEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9ob25nY2hldy9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvcmVhZGluZy1saXN0LXNlcnZpY2VzL3NyYy9kYXRhYmFzZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXF1ZWxpemUgZnJvbSAnc2VxdWVsaXplJztcblxubGV0IGRiID0gbmV3IFNlcXVlbGl6ZSh7XG4gICAgZGlhbGVjdDogJ3NxbGl0ZScsXG4gICAgc3RvcmFnZTogJy4vZGF0YWJhc2Uuc3FsaXRlJ1xufSlcbmRiLnN5bmMoKTtcblxuXG5jbGFzcyBCb29rIGV4dGVuZHMgU2VxdWVsaXplLk1vZGVsIHt9XG5Cb29rLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWVcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2VcbiAgICB9LFxuICAgIGF1dGhvcjoge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlXG4gICAgfSxcbiAgICBkZXRhaWxzOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkdcbiAgICB9XG59LHtcbiAgICBzZXF1ZWxpemUgOiBkYixcbiAgICBtb2RlbE5hbWU6ICdCb29rJ1xufSlcblxuQm9vay5zeW5jKCk7XG5cbmNvbnN0IGluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYoIGF3YWl0IEJvb2suZmluZE9uZSggeyB3aGVyZSA6IHtcbiAgICAgICAgaWQgOiAxXG4gICAgfX0pKXtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgQm9vay5jcmVhdGUoe1xuICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgUGhpbG9zb3BoZXIncyBTdG9uZVwiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiRGFuaWVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJUaGlzIGlzIGFuIGFtYXppbmcgYm9vayFcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIktlaXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJPbGQgYnV0IGdvbGRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiBcIjJcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIkhhcnJ5IFBvdHRlciBhbmQgdGhlIENoYW1iZXIgb2YgU2VjcmV0c1wiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQW5nZWxhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJIGNhbid0IGJlbGlldmUgdGhlIHBsb3QgdHdpc3QhXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJCaWxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJJ3ZlIHJlYWQgaXQgMjAgdGltZXMgYWxyZWFkeVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICAgICAgQm9vay5jcmVhdGUoe1xuICAgICAgICAgICAgaWQ6IFwiM1wiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgUHJpc29uZXIgb2YgQXprYWJhblwiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiRXZlbHluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJXaGF0IGNhbiBJIGRvIHdpdGhvdXQgdGhpcyBib29rP1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQ2hhcmxlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA6IFwiSSByZWFsbHkgbG92ZSBpdFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIF0pXG59XG5cbmluaXQoKS50aGVuKCAoKSA9PiAgZGIpXG5cbmNvbnN0IGNyZWF0ZUJvb2sgPSBhc3luYyBib29rID0+IHtcbiAgICBsZXQgbmV3Qm9vayA9ICBhd2FpdCBCb29rLmNyZWF0ZSh7XG4gICAgICAgIGlkOiBib29rLmlkLFxuICAgICAgICB0aXRsZTogYm9vay50aXRsZSxcbiAgICAgICAgYXV0aG9yOiBib29rLmF1dGhvcixcbiAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuXCIsXG4gICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICB9KVxuICAgIG5ld0Jvb2suZGV0YWlscyA9IEpTT04ucGFyc2UobmV3Qm9vay5kZXRhaWxzKTtcbiAgICByZXR1cm4gbmV3Qm9vay5nZXQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0RGV0YWlscyA9IGFzeW5jIGJvb2sgPT4ge1xuXG4gICAgY29uc29sZS5sb2coYm9vaylcbiAgICBsZXQgZGJCb29rID0gYXdhaXQgQm9vay5maW5kT25lKHtcbiAgICAgICAgd2hlcmUgOiB7XG4gICAgICAgICAgICBpZCA6IGJvb2suaWRcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpZighZGJCb29rKXtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUJvb2soYm9vaylcbiAgICB9XG5cbiAgICBkYkJvb2suZGV0YWlscyA9IEpTT04ucGFyc2UoZGJCb29rLmRldGFpbHMpXG4gICAgcmV0dXJuIGRiQm9vaztcbn1cblxubW9kdWxlLmV4cG9ydHMuYWRkQ29tbWVudCA9IGFzeW5jICggYm9vaywgY29tbWVudCApID0+IHtcbiAgICBsZXQgZGJCb29rID0gYXdhaXQgQm9vay5maW5kT25lKHtcbiAgICAgICAgd2hlcmUgOiB7XG4gICAgICAgICAgICBpZCA6IGJvb2suaWRcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpZighZGJCb29rKXtcbiAgICAgICAgZGJCb29rID0gYXdhaXQgY3JlYXRlQm9vayhib29rKVxuICAgIH1lbHNle1xuICAgICAgICBkYkJvb2sgPSBkYkJvb2suZ2V0KClcbiAgICAgICAgZGJCb29rLmRldGFpbHMgPSBKU09OLnBhcnNlKGRiQm9vay5kZXRhaWxzKVxuICAgIH1cblxuICAgIGRiQm9vay5kZXRhaWxzLmNvbW1lbnRzLnB1c2goY29tbWVudCk7XG5cbiAgICByZXR1cm4gYXdhaXQgQm9vay51cGRhdGUoe1xuICAgICAgICBkZXRhaWxzIDogSlNPTi5zdHJpbmdpZnkoZGJCb29rLmRldGFpbHMpXG4gICAgfSwge1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgaWQgOiBib29rLmlkXG4gICAgICAgIH1cbiAgICB9KVxuXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "Sequelize",
        "dialect",
        "storage",
        "sync",
        "Book",
        "Model",
        "init",
        "id",
        "type",
        "STRING",
        "allowNull",
        "primaryKey",
        "title",
        "author",
        "details",
        "sequelize",
        "modelName",
        "findOne",
        "where",
        "Promise",
        "resolve",
        "all",
        "create",
        "JSON",
        "stringify",
        "description",
        "comments",
        "content",
        "then",
        "createBook",
        "book",
        "newBook",
        "parse",
        "get",
        "module",
        "exports",
        "getDetails",
        "console",
        "log",
        "dbBook",
        "addComment",
        "comment",
        "push",
        "update"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nlet db = new Sequelize({\n    dialect: 'sqlite',\n    storage: './database.sqlite'\n})\ndb.sync();\n\n\nclass Book extends Sequelize.Model {}\nBook.init({\n    id: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true\n    },\n    title: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    author: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    details: {\n        type: Sequelize.STRING\n    }\n},{\n    sequelize : db,\n    modelName: 'Book'\n})\n\nBook.sync();\n\nconst init = async () => {\n    if( await Book.findOne( { where : {\n        id : 1\n    }})){\n        return Promise.resolve()\n    }\n\n    return Promise.all([\n        Book.create({\n            id: \"1\",\n            title: \"Harry Potter and the Philosopher's Stone\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Daniel\",\n                        content : \"This is an amazing book!\"\n                    },\n                    {\n                        author : \"Keith\",\n                        content : \"Old but gold\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"2\",\n            title: \"Harry Potter and the Chamber of Secrets\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Angela\",\n                        content : \"I can't believe the plot twist!\"\n                    },\n                    {\n                        author : \"Bili\",\n                        content : \"I've read it 20 times already\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"3\",\n            title: \"Harry Potter and the Prisoner of Azkaban\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        author : \"Evelyn\",\n                        content : \"What can I do without this book?\"\n                    },\n                    {\n                        author : \"Charles\",\n                        content : \"I really love it\"\n                    }\n                ]\n            })\n        })\n    ])\n}\n\ninit().then( () =>  db)\n\nconst createBook = async book => {\n    let newBook =  await Book.create({\n        id: book.id,\n        title: book.title,\n        author: book.author,\n        details: JSON.stringify({\n            description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n            comments : [\n            ]\n        })\n    })\n    newBook.details = JSON.parse(newBook.details);\n    return newBook.get();\n}\n\nmodule.exports.getDetails = async book => {\n\n    console.log(book)\n    let dbBook = await Book.findOne({\n        where : {\n            id : book.id\n        }\n    })\n\n    if(!dbBook){\n        return await createBook(book)\n    }\n\n    dbBook.details = JSON.parse(dbBook.details)\n    return dbBook;\n}\n\nmodule.exports.addComment = async ( book, comment ) => {\n    let dbBook = await Book.findOne({\n        where : {\n            id : book.id\n        }\n    })\n\n    if(!dbBook){\n        dbBook = await createBook(book)\n    }else{\n        dbBook = dbBook.get()\n        dbBook.details = JSON.parse(dbBook.details)\n    }\n\n    dbBook.details.comments.push(comment);\n\n    return await Book.update({\n        details : JSON.stringify(dbBook.details)\n    }, {\n        where: {\n            id : book.id\n        }\n    })\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578359885545
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list-services/src/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet db = new _sequelize.default({\n  dialect: 'sqlite',\n  storage: './database.sqlite'\n});\ndb.sync();\n\nclass Book extends _sequelize.default.Model {}\n\nBook.init({\n  id: {\n    type: _sequelize.default.STRING,\n    allowNull: false,\n    primaryKey: true\n  },\n  title: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  author: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  details: {\n    type: _sequelize.default.STRING\n  }\n}, {\n  sequelize: db,\n  modelName: 'Book'\n});\nBook.sync();\n\nconst init = async () => {\n  if (await Book.findOne({\n    where: {\n      id: 1\n    }\n  })) {\n    return Promise.resolve();\n  }\n\n  return Promise.all([Book.create({\n    id: \"1\",\n    title: \"Harry Potter and the Philosopher's Stone\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 1,\n        author: \"Daniel\",\n        content: \"This is an amazing book!\"\n      }, {\n        id: 2,\n        author: \"Keith\",\n        content: \"Old but gold\"\n      }]\n    })\n  }), Book.create({\n    id: \"2\",\n    title: \"Harry Potter and the Chamber of Secrets\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 3,\n        author: \"Angela\",\n        content: \"I can't believe the plot twist!\"\n      }, {\n        id: 4,\n        author: \"Bili\",\n        content: \"I've read it 20 times already\"\n      }]\n    })\n  }), Book.create({\n    id: \"3\",\n    title: \"Harry Potter and the Prisoner of Azkaban\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 5,\n        author: \"Evelyn\",\n        content: \"What can I do without this book?\"\n      }, {\n        id: 6,\n        author: \"Charles\",\n        content: \"I really love it\"\n      }]\n    })\n  })]);\n};\n\ninit().then(() => db);\n\nconst createBook = async book => {\n  let newBook = await Book.create({\n    id: book.id,\n    title: book.title,\n    author: book.author,\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: []\n    })\n  });\n  newBook = newBook.get();\n  newBook.details = JSON.parse(newBook.details);\n  return newBook;\n};\n\nmodule.exports.getDetails = async book => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    return await createBook(book);\n  }\n\n  dbBook.details = JSON.parse(dbBook.details);\n  return dbBook;\n};\n\nmodule.exports.addComment = async (book, comment) => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    dbBook = await createBook(book);\n  } else {\n    dbBook = dbBook.get();\n    dbBook.details = JSON.parse(dbBook.details);\n  }\n\n  dbBook.details.comments.push(comment);\n  return await Book.update({\n    details: JSON.stringify(dbBook.details)\n  }, {\n    where: {\n      id: book.id\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwiU2VxdWVsaXplIiwiZGlhbGVjdCIsInN0b3JhZ2UiLCJzeW5jIiwiQm9vayIsIk1vZGVsIiwiaW5pdCIsImlkIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0aXRsZSIsImF1dGhvciIsImRldGFpbHMiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJmaW5kT25lIiwid2hlcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFsbCIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNjcmlwdGlvbiIsImNvbW1lbnRzIiwiY29udGVudCIsInRoZW4iLCJjcmVhdGVCb29rIiwiYm9vayIsIm5ld0Jvb2siLCJnZXQiLCJwYXJzZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXREZXRhaWxzIiwiZGJCb29rIiwiYWRkQ29tbWVudCIsImNvbW1lbnQiLCJwdXNoIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUEsSUFBSUEsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWM7QUFDbkJDLEVBQUFBLE9BQU8sRUFBRSxRQURVO0FBRW5CQyxFQUFBQSxPQUFPLEVBQUU7QUFGVSxDQUFkLENBQVQ7QUFJQUgsRUFBRSxDQUFDSSxJQUFIOztBQUdBLE1BQU1DLElBQU4sU0FBbUJKLG1CQUFVSyxLQUE3QixDQUFtQzs7QUFDbkNELElBQUksQ0FBQ0UsSUFBTCxDQUFVO0FBQ05DLEVBQUFBLEVBQUUsRUFBRTtBQUNBQyxJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURoQjtBQUVBQyxJQUFBQSxTQUFTLEVBQUUsS0FGWDtBQUdBQyxJQUFBQSxVQUFVLEVBQUU7QUFIWixHQURFO0FBTU5DLEVBQUFBLEtBQUssRUFBRTtBQUNISixJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURiO0FBRUhDLElBQUFBLFNBQVMsRUFBRTtBQUZSLEdBTkQ7QUFVTkcsRUFBQUEsTUFBTSxFQUFFO0FBQ0pM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QVIsRUFBY1MsT0FBZCxLQUEyQjtBQUNuRCxNQUFJRixNQUFNLEdBQUcsTUFBTWpDLElBQUksQ0FBQ2EsT0FBTCxDQUFhO0FBQzVCQyxJQUFBQSxLQUFLLEVBQUc7QUFDSkwsTUFBQUEsTUFBTSxFQUFHaUIsSUFBSSxDQUFDakIsTUFEVjtBQUVKRCxNQUFBQSxLQUFLLEVBQUdrQixJQUFJLENBQUNsQjtBQUZUO0FBRG9CLEdBQWIsQ0FBbkI7O0FBT0EsTUFBRyxDQUFDeUIsTUFBSixFQUFXO0FBQ1BBLElBQUFBLE1BQU0sR0FBRyxNQUFNUixVQUFVLENBQUNDLElBQUQsQ0FBekI7QUFDSCxHQUZELE1BRUs7QUFDRE8sSUFBQUEsTUFBTSxHQUFHQSxNQUFNLENBQUNMLEdBQVAsRUFBVDtBQUNBSyxJQUFBQSxNQUFNLENBQUN2QixPQUFQLEdBQWlCUyxJQUFJLENBQUNVLEtBQUwsQ0FBV0ksTUFBTSxDQUFDdkIsT0FBbEIsQ0FBakI7QUFDSDs7QUFFRHVCLEVBQUFBLE1BQU0sQ0FBQ3ZCLE9BQVAsQ0FBZVksUUFBZixDQUF3QmMsSUFBeEIsQ0FBNkJELE9BQTdCO0FBRUEsU0FBTyxNQUFNbkMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZO0FBQ3JCM0IsSUFBQUEsT0FBTyxFQUFHUyxJQUFJLENBQUNDLFNBQUwsQ0FBZWEsTUFBTSxDQUFDdkIsT0FBdEI7QUFEVyxHQUFaLEVBRVY7QUFDQ0ksSUFBQUEsS0FBSyxFQUFFO0FBQ0hYLE1BQUFBLEVBQUUsRUFBR3VCLElBQUksQ0FBQ3ZCO0FBRFA7QUFEUixHQUZVLENBQWI7QUFRSCxDQXpCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvaG9uZ2NoZXcvRG9jdW1lbnRzL1Byb2dyYW1taW5nL3JlYWRpbmctbGlzdC1zZXJ2aWNlcy9zcmMvZGF0YWJhc2UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5cbmxldCBkYiA9IG5ldyBTZXF1ZWxpemUoe1xuICAgIGRpYWxlY3Q6ICdzcWxpdGUnLFxuICAgIHN0b3JhZ2U6ICcuL2RhdGFiYXNlLnNxbGl0ZSdcbn0pXG5kYi5zeW5jKCk7XG5cblxuY2xhc3MgQm9vayBleHRlbmRzIFNlcXVlbGl6ZS5Nb2RlbCB7fVxuQm9vay5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRob3I6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgIH0sXG4gICAgZGV0YWlsczoge1xuICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HXG4gICAgfVxufSx7XG4gICAgc2VxdWVsaXplIDogZGIsXG4gICAgbW9kZWxOYW1lOiAnQm9vaydcbn0pXG5cbkJvb2suc3luYygpO1xuXG5jb25zdCBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmKCBhd2FpdCBCb29rLmZpbmRPbmUoIHsgd2hlcmUgOiB7XG4gICAgICAgIGlkIDogMVxuICAgIH19KSl7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiBcIjFcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIkhhcnJ5IFBvdHRlciBhbmQgdGhlIFBoaWxvc29waGVyJ3MgU3RvbmVcIixcbiAgICAgICAgICAgIGF1dGhvcjogXCJKLiBLLiBSb3dsaW5nXCIsXG4gICAgICAgICAgICBkZXRhaWxzOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuXCIsXG4gICAgICAgICAgICAgICAgY29tbWVudHMgOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIkRhbmllbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA6IFwiVGhpcyBpcyBhbiBhbWF6aW5nIGJvb2shXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiAyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiS2VpdGhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIk9sZCBidXQgZ29sZFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICAgICAgQm9vay5jcmVhdGUoe1xuICAgICAgICAgICAgaWQ6IFwiMlwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgQ2hhbWJlciBvZiBTZWNyZXRzXCIsXG4gICAgICAgICAgICBhdXRob3I6IFwiSi4gSy4gUm93bGluZ1wiLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLlwiLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJBbmdlbGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIkkgY2FuJ3QgYmVsaWV2ZSB0aGUgcGxvdCB0d2lzdCFcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIkJpbGlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIkkndmUgcmVhZCBpdCAyMCB0aW1lcyBhbHJlYWR5XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICBCb29rLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogXCIzXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJIYXJyeSBQb3R0ZXIgYW5kIHRoZSBQcmlzb25lciBvZiBBemthYmFuXCIsXG4gICAgICAgICAgICBhdXRob3I6IFwiSi4gSy4gUm93bGluZ1wiLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLlwiLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJFdmVseW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIldoYXQgY2FuIEkgZG8gd2l0aG91dCB0aGlzIGJvb2s/XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiA2LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJDaGFybGVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJIHJlYWxseSBsb3ZlIGl0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgXSlcbn1cblxuaW5pdCgpLnRoZW4oICgpID0+ICBkYilcblxuY29uc3QgY3JlYXRlQm9vayA9IGFzeW5jIGJvb2sgPT4ge1xuICAgIGxldCBuZXdCb29rID0gIGF3YWl0IEJvb2suY3JlYXRlKHtcbiAgICAgICAgaWQ6IGJvb2suaWQsXG4gICAgICAgIHRpdGxlOiBib29rLnRpdGxlLFxuICAgICAgICBhdXRob3I6IGJvb2suYXV0aG9yLFxuICAgICAgICBkZXRhaWxzOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIH0pXG4gICAgbmV3Qm9vayA9IG5ld0Jvb2suZ2V0KCk7XG4gICAgbmV3Qm9vay5kZXRhaWxzID0gSlNPTi5wYXJzZShuZXdCb29rLmRldGFpbHMpO1xuICAgIHJldHVybiBuZXdCb29rO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5nZXREZXRhaWxzID0gYXN5bmMgYm9vayA9PiB7XG5cbiAgICBsZXQgZGJCb29rID0gYXdhaXQgQm9vay5maW5kT25lKHtcbiAgICAgICAgd2hlcmUgOiB7XG4gICAgICAgICAgICBhdXRob3IgOiBib29rLmF1dGhvcixcbiAgICAgICAgICAgIHRpdGxlIDogYm9vay50aXRsZVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmKCFkYkJvb2spe1xuICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlQm9vayhib29rKVxuICAgIH1cblxuICAgIGRiQm9vay5kZXRhaWxzID0gSlNPTi5wYXJzZShkYkJvb2suZGV0YWlscylcbiAgICByZXR1cm4gZGJCb29rO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5hZGRDb21tZW50ID0gYXN5bmMgKCBib29rLCBjb21tZW50ICkgPT4ge1xuICAgIGxldCBkYkJvb2sgPSBhd2FpdCBCb29rLmZpbmRPbmUoe1xuICAgICAgICB3aGVyZSA6IHtcbiAgICAgICAgICAgIGF1dGhvciA6IGJvb2suYXV0aG9yLFxuICAgICAgICAgICAgdGl0bGUgOiBib29rLnRpdGxlXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYoIWRiQm9vayl7XG4gICAgICAgIGRiQm9vayA9IGF3YWl0IGNyZWF0ZUJvb2soYm9vaylcbiAgICB9ZWxzZXtcbiAgICAgICAgZGJCb29rID0gZGJCb29rLmdldCgpXG4gICAgICAgIGRiQm9vay5kZXRhaWxzID0gSlNPTi5wYXJzZShkYkJvb2suZGV0YWlscylcbiAgICB9XG5cbiAgICBkYkJvb2suZGV0YWlscy5jb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuXG4gICAgcmV0dXJuIGF3YWl0IEJvb2sudXBkYXRlKHtcbiAgICAgICAgZGV0YWlscyA6IEpTT04uc3RyaW5naWZ5KGRiQm9vay5kZXRhaWxzKVxuICAgIH0sIHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIGlkIDogYm9vay5pZFxuICAgICAgICB9XG4gICAgfSlcblxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "Sequelize",
        "dialect",
        "storage",
        "sync",
        "Book",
        "Model",
        "init",
        "id",
        "type",
        "STRING",
        "allowNull",
        "primaryKey",
        "title",
        "author",
        "details",
        "sequelize",
        "modelName",
        "findOne",
        "where",
        "Promise",
        "resolve",
        "all",
        "create",
        "JSON",
        "stringify",
        "description",
        "comments",
        "content",
        "then",
        "createBook",
        "book",
        "newBook",
        "get",
        "parse",
        "module",
        "exports",
        "getDetails",
        "dbBook",
        "addComment",
        "comment",
        "push",
        "update"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list-services/src/database",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nlet db = new Sequelize({\n    dialect: 'sqlite',\n    storage: './database.sqlite'\n})\ndb.sync();\n\n\nclass Book extends Sequelize.Model {}\nBook.init({\n    id: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true\n    },\n    title: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    author: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    details: {\n        type: Sequelize.STRING\n    }\n},{\n    sequelize : db,\n    modelName: 'Book'\n})\n\nBook.sync();\n\nconst init = async () => {\n    if( await Book.findOne( { where : {\n        id : 1\n    }})){\n        return Promise.resolve()\n    }\n\n    return Promise.all([\n        Book.create({\n            id: \"1\",\n            title: \"Harry Potter and the Philosopher's Stone\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 1,\n                        author : \"Daniel\",\n                        content : \"This is an amazing book!\"\n                    },\n                    {\n                        id : 2, \n                        author : \"Keith\",\n                        content : \"Old but gold\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"2\",\n            title: \"Harry Potter and the Chamber of Secrets\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 3,\n                        author : \"Angela\",\n                        content : \"I can't believe the plot twist!\"\n                    },\n                    {\n                        id : 4,\n                        author : \"Bili\",\n                        content : \"I've read it 20 times already\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"3\",\n            title: \"Harry Potter and the Prisoner of Azkaban\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 5,\n                        author : \"Evelyn\",\n                        content : \"What can I do without this book?\"\n                    },\n                    {\n                        id : 6,\n                        author : \"Charles\",\n                        content : \"I really love it\"\n                    }\n                ]\n            })\n        })\n    ])\n}\n\ninit().then( () =>  db)\n\nconst createBook = async book => {\n    let newBook =  await Book.create({\n        id: book.id,\n        title: book.title,\n        author: book.author,\n        details: JSON.stringify({\n            description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n            comments : [\n            ]\n        })\n    })\n    newBook = newBook.get();\n    newBook.details = JSON.parse(newBook.details);\n    return newBook;\n}\n\nmodule.exports.getDetails = async book => {\n\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        return await createBook(book)\n    }\n\n    dbBook.details = JSON.parse(dbBook.details)\n    return dbBook;\n}\n\nmodule.exports.addComment = async ( book, comment ) => {\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        dbBook = await createBook(book)\n    }else{\n        dbBook = dbBook.get()\n        dbBook.details = JSON.parse(dbBook.details)\n    }\n\n    dbBook.details.comments.push(comment);\n\n    return await Book.update({\n        details : JSON.stringify(dbBook.details)\n    }, {\n        where: {\n            id : book.id\n        }\n    })\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578520969420
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst database = require(\"./database\");\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\napp.get('/test', (req, res) => {\n  res.send({\n    success: true\n  });\n});\napp.get('/', (req, res) => {\n  res.send(`\n        <h1>Test Express Home</h1>\n        <p>try out other endpoints on localhost:3001</p>\n    `);\n});\napp.post('/book/details', (req, res) => {\n  var book = req.body;\n  database.getDetails(book).then(details => {\n    res.json(details);\n  }).catch(e => console.error(e));\n});\napp.post('/book/comment', (req, res) => {\n  var book = req.body.book;\n  var comment = req.body.comment;\n  database.addComment(book, comment).then(val => {\n    res.json(val);\n  }).catch(e => console.error(e));\n});\napp.listen(3001, () => console.log('**** Listening on port 3001 ****'));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRhdGFiYXNlIiwicmVxdWlyZSIsImFwcCIsInVzZSIsImV4cHJlc3MiLCJqc29uIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsInN1Y2Nlc3MiLCJwb3N0IiwiYm9vayIsImJvZHkiLCJnZXREZXRhaWxzIiwidGhlbiIsImRldGFpbHMiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjb21tZW50IiwiYWRkQ29tbWVudCIsInZhbCIsImxpc3RlbiIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsR0FBRyxHQUFHLHVCQUFaO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUMsSUFBUixFQUFSO0FBRUFILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLE9BQVIsRUFBaUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDM0JBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTO0FBQ0xDLElBQUFBLE9BQU8sRUFBRztBQURMLEdBQVQ7QUFHSCxDQUpEO0FBTUFSLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVU7OztLQUFWO0FBSUgsQ0FMRDtBQU9BUCxHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCLENBQUNKLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3BDLE1BQUlJLElBQUksR0FBR0wsR0FBRyxDQUFDTSxJQUFmO0FBRUFiLEVBQUFBLFFBQVEsQ0FBQ2MsVUFBVCxDQUFvQkYsSUFBcEIsRUFDS0csSUFETCxDQUNZQyxPQUFELElBQWE7QUFDaEJSLElBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTVyxPQUFUO0FBQ0gsR0FITCxFQUlLQyxLQUpMLENBSVdDLENBQUMsSUFBSUMsT0FBTyxDQUFDQyxLQUFSLENBQWNGLENBQWQsQ0FKaEI7QUFPSCxDQVZEO0FBWUFoQixHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCLENBQUNKLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3BDLE1BQUlJLElBQUksR0FBR0wsR0FBRyxDQUFDTSxJQUFKLENBQVNELElBQXBCO0FBQ0EsTUFBSVMsT0FBTyxHQUFHZCxHQUFHLENBQUNNLElBQUosQ0FBU1EsT0FBdkI7QUFFQXJCLEVBQUFBLFFBQVEsQ0FBQ3NCLFVBQVQsQ0FBb0JWLElBQXBCLEVBQTBCUyxPQUExQixFQUNLTixJQURMLENBQ1dRLEdBQUcsSUFBSTtBQUNWZixJQUFBQSxHQUFHLENBQUNILElBQUosQ0FBU2tCLEdBQVQ7QUFDSCxHQUhMLEVBSUtOLEtBSkwsQ0FJV0MsQ0FBQyxJQUFJQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsQ0FBZCxDQUpoQjtBQUtILENBVEQ7QUFZQWhCLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQ2ZMLE9BQU8sQ0FBQ00sR0FBUixDQUFZLGtDQUFaLENBREYiLCJzb3VyY2VSb290IjoiL1VzZXJzL2hvbmdjaGV3L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9yZWFkaW5nLWxpc3QvcmVhZGluZy1saXN0LXNlcnZpY2VzL3NyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCBkYXRhYmFzZSA9IHJlcXVpcmUoXCIuL2RhdGFiYXNlXCIpXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG5cbmFwcC5nZXQoJy90ZXN0JywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgICBzdWNjZXNzIDogdHJ1ZVxuICAgIH0pXG59KVxuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoYFxuICAgICAgICA8aDE+VGVzdCBFeHByZXNzIEhvbWU8L2gxPlxuICAgICAgICA8cD50cnkgb3V0IG90aGVyIGVuZHBvaW50cyBvbiBsb2NhbGhvc3Q6MzAwMTwvcD5cbiAgICBgKVxufSlcblxuYXBwLnBvc3QoJy9ib29rL2RldGFpbHMnLCAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgYm9vayA9IHJlcS5ib2R5XG4gICAgXG4gICAgZGF0YWJhc2UuZ2V0RGV0YWlscyhib29rKVxuICAgICAgICAudGhlbiggKGRldGFpbHMpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKGRldGFpbHMpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUuZXJyb3IoZSkpXG5cblxufSlcblxuYXBwLnBvc3QoJy9ib29rL2NvbW1lbnQnLCAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgYm9vayA9IHJlcS5ib2R5LmJvb2tcbiAgICB2YXIgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnRcblxuICAgIGRhdGFiYXNlLmFkZENvbW1lbnQoYm9vaywgY29tbWVudClcbiAgICAgICAgLnRoZW4oIHZhbCA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih2YWwpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUuZXJyb3IoZSkpXG59KVxuXG5cbmFwcC5saXN0ZW4oMzAwMSwgKCkgPT5cbiAgY29uc29sZS5sb2coJyoqKiogTGlzdGVuaW5nIG9uIHBvcnQgMzAwMSAqKioqJyksXG4pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "database",
        "require",
        "app",
        "use",
        "express",
        "json",
        "get",
        "req",
        "res",
        "send",
        "success",
        "post",
        "book",
        "body",
        "getDetails",
        "then",
        "details",
        "catch",
        "e",
        "console",
        "error",
        "comment",
        "addComment",
        "val",
        "listen",
        "log"
      ],
      "mappings": ";;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AAEAH,GAAG,CAACI,GAAJ,CAAQ,OAAR,EAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AACLC,IAAAA,OAAO,EAAG;AADL,GAAT;AAGH,CAJD;AAMAR,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAU;;;KAAV;AAIH,CALD;AAOAP,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0B,CAACJ,GAAD,EAAMC,GAAN,KAAc;AACpC,MAAII,IAAI,GAAGL,GAAG,CAACM,IAAf;AAEAb,EAAAA,QAAQ,CAACc,UAAT,CAAoBF,IAApB,EACKG,IADL,CACYC,OAAD,IAAa;AAChBR,IAAAA,GAAG,CAACH,IAAJ,CAASW,OAAT;AACH,GAHL,EAIKC,KAJL,CAIWC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAJhB;AAOH,CAVD;AAYAhB,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0B,CAACJ,GAAD,EAAMC,GAAN,KAAc;AACpC,MAAII,IAAI,GAAGL,GAAG,CAACM,IAAJ,CAASD,IAApB;AACA,MAAIS,OAAO,GAAGd,GAAG,CAACM,IAAJ,CAASQ,OAAvB;AAEArB,EAAAA,QAAQ,CAACsB,UAAT,CAAoBV,IAApB,EAA0BS,OAA1B,EACKN,IADL,CACWQ,GAAG,IAAI;AACVf,IAAAA,GAAG,CAACH,IAAJ,CAASkB,GAAT;AACH,GAHL,EAIKN,KAJL,CAIWC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAJhB;AAKH,CATD;AAYAhB,GAAG,CAACsB,MAAJ,CAAW,IAAX,EAAiB,MACfL,OAAO,CAACM,GAAR,CAAY,kCAAZ,CADF",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src",
      "sourcesContent": [
        "import express from 'express';\n\nconst database = require(\"./database\")\n\nconst app = express();\napp.use(express.json())\n\napp.get('/test', (req, res) => {\n    res.send({\n        success : true\n    })\n})\n\napp.get('/', (req, res) => {\n    res.send(`\n        <h1>Test Express Home</h1>\n        <p>try out other endpoints on localhost:3001</p>\n    `)\n})\n\napp.post('/book/details', (req, res) => {\n    var book = req.body\n    \n    database.getDetails(book)\n        .then( (details) => {\n            res.json(details)\n        })\n        .catch(e => console.error(e))\n\n\n})\n\napp.post('/book/comment', (req, res) => {\n    var book = req.body.book\n    var comment = req.body.comment\n\n    database.addComment(book, comment)\n        .then( val => {\n            res.json(val)\n        })\n        .catch(e => console.error(e))\n})\n\n\napp.listen(3001, () =>\n  console.log('**** Listening on port 3001 ****'),\n);"
      ]
    },
    "sourceType": "script",
    "mtime": 1578360577230
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet db = new _sequelize.default({\n  dialect: 'sqlite',\n  storage: './database.sqlite'\n});\ndb.sync();\n\nclass Book extends _sequelize.default.Model {}\n\nBook.init({\n  id: {\n    type: _sequelize.default.STRING,\n    allowNull: false,\n    primaryKey: true\n  },\n  title: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  author: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  details: {\n    type: _sequelize.default.STRING\n  }\n}, {\n  sequelize: db,\n  modelName: 'Book'\n});\nBook.sync();\n\nconst init = async () => {\n  if (await Book.findOne({\n    where: {\n      id: 1\n    }\n  })) {\n    return Promise.resolve();\n  }\n\n  return Promise.all([Book.create({\n    id: \"1\",\n    title: \"Harry Potter and the Philosopher's Stone\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 1,\n        author: \"Daniel\",\n        content: \"This is an amazing book!\"\n      }, {\n        id: 2,\n        author: \"Keith\",\n        content: \"Old but gold\"\n      }]\n    })\n  }), Book.create({\n    id: \"2\",\n    title: \"Harry Potter and the Chamber of Secrets\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 3,\n        author: \"Angela\",\n        content: \"I can't believe the plot twist!\"\n      }, {\n        id: 4,\n        author: \"Bili\",\n        content: \"I've read it 20 times already\"\n      }]\n    })\n  }), Book.create({\n    id: \"3\",\n    title: \"Harry Potter and the Prisoner of Azkaban\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 5,\n        author: \"Evelyn\",\n        content: \"What can I do without this book?\"\n      }, {\n        id: 6,\n        author: \"Charles\",\n        content: \"I really love it\"\n      }]\n    })\n  })]);\n};\n\ninit().then(() => db);\n\nconst createBook = async book => {\n  let newBook = await Book.create({\n    id: book.id,\n    title: book.title,\n    author: book.author,\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: []\n    })\n  });\n  newBook = newBook.get();\n  newBook.details = JSON.parse(newBook.details);\n  return newBook;\n};\n\nmodule.exports.getDetails = async book => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    return await createBook(book);\n  }\n\n  dbBook.details = JSON.parse(dbBook.details);\n  return dbBook;\n};\n\nmodule.exports.addComment = async (book, comment) => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    dbBook = await createBook(book);\n  } else {\n    dbBook = dbBook.get();\n    dbBook.details = JSON.parse(dbBook.details);\n  }\n\n  dbBook.details.comments.push(comment);\n  return await Book.update({\n    details: JSON.stringify(dbBook.details)\n  }, {\n    where: {\n      id: book.id\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwiU2VxdWVsaXplIiwiZGlhbGVjdCIsInN0b3JhZ2UiLCJzeW5jIiwiQm9vayIsIk1vZGVsIiwiaW5pdCIsImlkIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0aXRsZSIsImF1dGhvciIsImRldGFpbHMiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJmaW5kT25lIiwid2hlcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFsbCIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNjcmlwdGlvbiIsImNvbW1lbnRzIiwiY29udGVudCIsInRoZW4iLCJjcmVhdGVCb29rIiwiYm9vayIsIm5ld0Jvb2siLCJnZXQiLCJwYXJzZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXREZXRhaWxzIiwiZGJCb29rIiwiYWRkQ29tbWVudCIsImNvbW1lbnQiLCJwdXNoIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUEsSUFBSUEsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWM7QUFDbkJDLEVBQUFBLE9BQU8sRUFBRSxRQURVO0FBRW5CQyxFQUFBQSxPQUFPLEVBQUU7QUFGVSxDQUFkLENBQVQ7QUFJQUgsRUFBRSxDQUFDSSxJQUFIOztBQUdBLE1BQU1DLElBQU4sU0FBbUJKLG1CQUFVSyxLQUE3QixDQUFtQzs7QUFDbkNELElBQUksQ0FBQ0UsSUFBTCxDQUFVO0FBQ05DLEVBQUFBLEVBQUUsRUFBRTtBQUNBQyxJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURoQjtBQUVBQyxJQUFBQSxTQUFTLEVBQUUsS0FGWDtBQUdBQyxJQUFBQSxVQUFVLEVBQUU7QUFIWixHQURFO0FBTU5DLEVBQUFBLEtBQUssRUFBRTtBQUNISixJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURiO0FBRUhDLElBQUFBLFNBQVMsRUFBRTtBQUZSLEdBTkQ7QUFVTkcsRUFBQUEsTUFBTSxFQUFFO0FBQ0pM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QVIsRUFBY1MsT0FBZCxLQUEyQjtBQUNuRCxNQUFJRixNQUFNLEdBQUcsTUFBTWpDLElBQUksQ0FBQ2EsT0FBTCxDQUFhO0FBQzVCQyxJQUFBQSxLQUFLLEVBQUc7QUFDSkwsTUFBQUEsTUFBTSxFQUFHaUIsSUFBSSxDQUFDakIsTUFEVjtBQUVKRCxNQUFBQSxLQUFLLEVBQUdrQixJQUFJLENBQUNsQjtBQUZUO0FBRG9CLEdBQWIsQ0FBbkI7O0FBT0EsTUFBRyxDQUFDeUIsTUFBSixFQUFXO0FBQ1BBLElBQUFBLE1BQU0sR0FBRyxNQUFNUixVQUFVLENBQUNDLElBQUQsQ0FBekI7QUFDSCxHQUZELE1BRUs7QUFDRE8sSUFBQUEsTUFBTSxHQUFHQSxNQUFNLENBQUNMLEdBQVAsRUFBVDtBQUNBSyxJQUFBQSxNQUFNLENBQUN2QixPQUFQLEdBQWlCUyxJQUFJLENBQUNVLEtBQUwsQ0FBV0ksTUFBTSxDQUFDdkIsT0FBbEIsQ0FBakI7QUFDSDs7QUFFRHVCLEVBQUFBLE1BQU0sQ0FBQ3ZCLE9BQVAsQ0FBZVksUUFBZixDQUF3QmMsSUFBeEIsQ0FBNkJELE9BQTdCO0FBRUEsU0FBTyxNQUFNbkMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZO0FBQ3JCM0IsSUFBQUEsT0FBTyxFQUFHUyxJQUFJLENBQUNDLFNBQUwsQ0FBZWEsTUFBTSxDQUFDdkIsT0FBdEI7QUFEVyxHQUFaLEVBRVY7QUFDQ0ksSUFBQUEsS0FBSyxFQUFFO0FBQ0hYLE1BQUFBLEVBQUUsRUFBR3VCLElBQUksQ0FBQ3ZCO0FBRFA7QUFEUixHQUZVLENBQWI7QUFRSCxDQXpCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvaG9uZ2NoZXcvRG9jdW1lbnRzL1Byb2dyYW1taW5nL3JlYWRpbmctbGlzdC9yZWFkaW5nLWxpc3Qtc2VydmljZXMvc3JjL2RhdGFiYXNlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuXG5sZXQgZGIgPSBuZXcgU2VxdWVsaXplKHtcbiAgICBkaWFsZWN0OiAnc3FsaXRlJyxcbiAgICBzdG9yYWdlOiAnLi9kYXRhYmFzZS5zcWxpdGUnXG59KVxuZGIuc3luYygpO1xuXG5cbmNsYXNzIEJvb2sgZXh0ZW5kcyBTZXF1ZWxpemUuTW9kZWwge31cbkJvb2suaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0aG9yOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2VcbiAgICB9LFxuICAgIGRldGFpbHM6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklOR1xuICAgIH1cbn0se1xuICAgIHNlcXVlbGl6ZSA6IGRiLFxuICAgIG1vZGVsTmFtZTogJ0Jvb2snXG59KVxuXG5Cb29rLnN5bmMoKTtcblxuY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiggYXdhaXQgQm9vay5maW5kT25lKCB7IHdoZXJlIDoge1xuICAgICAgICBpZCA6IDFcbiAgICB9fSkpe1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBCb29rLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJIYXJyeSBQb3R0ZXIgYW5kIHRoZSBQaGlsb3NvcGhlcidzIFN0b25lXCIsXG4gICAgICAgICAgICBhdXRob3I6IFwiSi4gSy4gUm93bGluZ1wiLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLlwiLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJEYW5pZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIlRoaXMgaXMgYW4gYW1hemluZyBib29rIVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogMiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIktlaXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJPbGQgYnV0IGdvbGRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiBcIjJcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIkhhcnJ5IFBvdHRlciBhbmQgdGhlIENoYW1iZXIgb2YgU2VjcmV0c1wiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQW5nZWxhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJIGNhbid0IGJlbGlldmUgdGhlIHBsb3QgdHdpc3QhXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJCaWxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJJ3ZlIHJlYWQgaXQgMjAgdGltZXMgYWxyZWFkeVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICAgICAgQm9vay5jcmVhdGUoe1xuICAgICAgICAgICAgaWQ6IFwiM1wiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgUHJpc29uZXIgb2YgQXprYWJhblwiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiRXZlbHluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJXaGF0IGNhbiBJIGRvIHdpdGhvdXQgdGhpcyBib29rP1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogNixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQ2hhcmxlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA6IFwiSSByZWFsbHkgbG92ZSBpdFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIF0pXG59XG5cbmluaXQoKS50aGVuKCAoKSA9PiAgZGIpXG5cbmNvbnN0IGNyZWF0ZUJvb2sgPSBhc3luYyBib29rID0+IHtcbiAgICBsZXQgbmV3Qm9vayA9ICBhd2FpdCBCb29rLmNyZWF0ZSh7XG4gICAgICAgIGlkOiBib29rLmlkLFxuICAgICAgICB0aXRsZTogYm9vay50aXRsZSxcbiAgICAgICAgYXV0aG9yOiBib29rLmF1dGhvcixcbiAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuXCIsXG4gICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICB9KVxuICAgIG5ld0Jvb2sgPSBuZXdCb29rLmdldCgpO1xuICAgIG5ld0Jvb2suZGV0YWlscyA9IEpTT04ucGFyc2UobmV3Qm9vay5kZXRhaWxzKTtcbiAgICByZXR1cm4gbmV3Qm9vaztcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0RGV0YWlscyA9IGFzeW5jIGJvb2sgPT4ge1xuXG4gICAgbGV0IGRiQm9vayA9IGF3YWl0IEJvb2suZmluZE9uZSh7XG4gICAgICAgIHdoZXJlIDoge1xuICAgICAgICAgICAgYXV0aG9yIDogYm9vay5hdXRob3IsXG4gICAgICAgICAgICB0aXRsZSA6IGJvb2sudGl0bGVcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpZighZGJCb29rKXtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUJvb2soYm9vaylcbiAgICB9XG5cbiAgICBkYkJvb2suZGV0YWlscyA9IEpTT04ucGFyc2UoZGJCb29rLmRldGFpbHMpXG4gICAgcmV0dXJuIGRiQm9vaztcbn1cblxubW9kdWxlLmV4cG9ydHMuYWRkQ29tbWVudCA9IGFzeW5jICggYm9vaywgY29tbWVudCApID0+IHtcbiAgICBsZXQgZGJCb29rID0gYXdhaXQgQm9vay5maW5kT25lKHtcbiAgICAgICAgd2hlcmUgOiB7XG4gICAgICAgICAgICBhdXRob3IgOiBib29rLmF1dGhvcixcbiAgICAgICAgICAgIHRpdGxlIDogYm9vay50aXRsZVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmKCFkYkJvb2spe1xuICAgICAgICBkYkJvb2sgPSBhd2FpdCBjcmVhdGVCb29rKGJvb2spXG4gICAgfWVsc2V7XG4gICAgICAgIGRiQm9vayA9IGRiQm9vay5nZXQoKVxuICAgICAgICBkYkJvb2suZGV0YWlscyA9IEpTT04ucGFyc2UoZGJCb29rLmRldGFpbHMpXG4gICAgfVxuXG4gICAgZGJCb29rLmRldGFpbHMuY29tbWVudHMucHVzaChjb21tZW50KTtcblxuICAgIHJldHVybiBhd2FpdCBCb29rLnVwZGF0ZSh7XG4gICAgICAgIGRldGFpbHMgOiBKU09OLnN0cmluZ2lmeShkYkJvb2suZGV0YWlscylcbiAgICB9LCB7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBpZCA6IGJvb2suaWRcbiAgICAgICAgfVxuICAgIH0pXG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "Sequelize",
        "dialect",
        "storage",
        "sync",
        "Book",
        "Model",
        "init",
        "id",
        "type",
        "STRING",
        "allowNull",
        "primaryKey",
        "title",
        "author",
        "details",
        "sequelize",
        "modelName",
        "findOne",
        "where",
        "Promise",
        "resolve",
        "all",
        "create",
        "JSON",
        "stringify",
        "description",
        "comments",
        "content",
        "then",
        "createBook",
        "book",
        "newBook",
        "get",
        "parse",
        "module",
        "exports",
        "getDetails",
        "dbBook",
        "addComment",
        "comment",
        "push",
        "update"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nlet db = new Sequelize({\n    dialect: 'sqlite',\n    storage: './database.sqlite'\n})\ndb.sync();\n\n\nclass Book extends Sequelize.Model {}\nBook.init({\n    id: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true\n    },\n    title: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    author: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    details: {\n        type: Sequelize.STRING\n    }\n},{\n    sequelize : db,\n    modelName: 'Book'\n})\n\nBook.sync();\n\nconst init = async () => {\n    if( await Book.findOne( { where : {\n        id : 1\n    }})){\n        return Promise.resolve()\n    }\n\n    return Promise.all([\n        Book.create({\n            id: \"1\",\n            title: \"Harry Potter and the Philosopher's Stone\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 1,\n                        author : \"Daniel\",\n                        content : \"This is an amazing book!\"\n                    },\n                    {\n                        id : 2, \n                        author : \"Keith\",\n                        content : \"Old but gold\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"2\",\n            title: \"Harry Potter and the Chamber of Secrets\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 3,\n                        author : \"Angela\",\n                        content : \"I can't believe the plot twist!\"\n                    },\n                    {\n                        id : 4,\n                        author : \"Bili\",\n                        content : \"I've read it 20 times already\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"3\",\n            title: \"Harry Potter and the Prisoner of Azkaban\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 5,\n                        author : \"Evelyn\",\n                        content : \"What can I do without this book?\"\n                    },\n                    {\n                        id : 6,\n                        author : \"Charles\",\n                        content : \"I really love it\"\n                    }\n                ]\n            })\n        })\n    ])\n}\n\ninit().then( () =>  db)\n\nconst createBook = async book => {\n    let newBook =  await Book.create({\n        id: book.id,\n        title: book.title,\n        author: book.author,\n        details: JSON.stringify({\n            description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n            comments : [\n            ]\n        })\n    })\n    newBook = newBook.get();\n    newBook.details = JSON.parse(newBook.details);\n    return newBook;\n}\n\nmodule.exports.getDetails = async book => {\n\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        return await createBook(book)\n    }\n\n    dbBook.details = JSON.parse(dbBook.details)\n    return dbBook;\n}\n\nmodule.exports.addComment = async ( book, comment ) => {\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        dbBook = await createBook(book)\n    }else{\n        dbBook = dbBook.get()\n        dbBook.details = JSON.parse(dbBook.details)\n    }\n\n    dbBook.details.comments.push(comment);\n\n    return await Book.update({\n        details : JSON.stringify(dbBook.details)\n    }, {\n        where: {\n            id : book.id\n        }\n    })\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578520969420
  },
  "{\"sourceRoot\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"filename\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/hongchew/Documents/Programming/reading-list/reading-list-services\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet db = new _sequelize.default({\n  dialect: 'sqlite',\n  storage: './database.sqlite'\n});\ndb.sync();\n\nclass Book extends _sequelize.default.Model {}\n\nBook.init({\n  id: {\n    type: _sequelize.default.STRING,\n    allowNull: false,\n    primaryKey: true\n  },\n  title: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  author: {\n    type: _sequelize.default.STRING,\n    allowNull: false\n  },\n  details: {\n    type: _sequelize.default.STRING\n  }\n}, {\n  sequelize: db,\n  modelName: 'Book'\n});\nBook.sync();\n\nconst init = async () => {\n  if (await Book.findOne({\n    where: {\n      id: 1\n    }\n  })) {\n    return Promise.resolve();\n  }\n\n  return Promise.all([Book.create({\n    id: \"1\",\n    title: \"Harry Potter and the Philosopher's Stone\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 1,\n        author: \"Daniel\",\n        content: \"This is an amazing book!\"\n      }, {\n        id: 2,\n        author: \"Keith\",\n        content: \"Old but gold\"\n      }]\n    })\n  }), Book.create({\n    id: \"2\",\n    title: \"Harry Potter and the Chamber of Secrets\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 3,\n        author: \"Angela\",\n        content: \"I can't believe the plot twist!\"\n      }, {\n        id: 4,\n        author: \"Bili\",\n        content: \"I've read it 20 times already\"\n      }]\n    })\n  }), Book.create({\n    id: \"3\",\n    title: \"Harry Potter and the Prisoner of Azkaban\",\n    author: \"J. K. Rowling\",\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: [{\n        id: 5,\n        author: \"Evelyn\",\n        content: \"What can I do without this book?\"\n      }, {\n        id: 6,\n        author: \"Charles\",\n        content: \"I really love it\"\n      }]\n    })\n  })]);\n};\n\ninit().then(() => db);\n\nconst createBook = async book => {\n  let newBook = await Book.create({\n    id: book.id,\n    title: book.title,\n    author: book.author,\n    details: JSON.stringify({\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      comments: []\n    })\n  });\n  newBook = newBook.get();\n  newBook.details = JSON.parse(newBook.details);\n  return newBook;\n};\n\nmodule.exports.getDetails = async book => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    return await createBook(book);\n  }\n\n  dbBook.details = JSON.parse(dbBook.details);\n  return dbBook;\n};\n\nmodule.exports.addComment = async (book, comment) => {\n  let dbBook = await Book.findOne({\n    where: {\n      author: book.author,\n      title: book.title\n    }\n  });\n\n  if (!dbBook) {\n    dbBook = await createBook(book);\n  } else {\n    dbBook = dbBook.get();\n    dbBook.details = JSON.parse(dbBook.details);\n  }\n\n  dbBook.details.comments.push(comment);\n  return await Book.update({\n    details: JSON.stringify(dbBook.details)\n  }, {\n    where: {\n      id: book.id\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwiU2VxdWVsaXplIiwiZGlhbGVjdCIsInN0b3JhZ2UiLCJzeW5jIiwiQm9vayIsIk1vZGVsIiwiaW5pdCIsImlkIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0aXRsZSIsImF1dGhvciIsImRldGFpbHMiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJmaW5kT25lIiwid2hlcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFsbCIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNjcmlwdGlvbiIsImNvbW1lbnRzIiwiY29udGVudCIsInRoZW4iLCJjcmVhdGVCb29rIiwiYm9vayIsIm5ld0Jvb2siLCJnZXQiLCJwYXJzZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXREZXRhaWxzIiwiZGJCb29rIiwiYWRkQ29tbWVudCIsImNvbW1lbnQiLCJwdXNoIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUEsSUFBSUEsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWM7QUFDbkJDLEVBQUFBLE9BQU8sRUFBRSxRQURVO0FBRW5CQyxFQUFBQSxPQUFPLEVBQUU7QUFGVSxDQUFkLENBQVQ7QUFJQUgsRUFBRSxDQUFDSSxJQUFIOztBQUdBLE1BQU1DLElBQU4sU0FBbUJKLG1CQUFVSyxLQUE3QixDQUFtQzs7QUFDbkNELElBQUksQ0FBQ0UsSUFBTCxDQUFVO0FBQ05DLEVBQUFBLEVBQUUsRUFBRTtBQUNBQyxJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURoQjtBQUVBQyxJQUFBQSxTQUFTLEVBQUUsS0FGWDtBQUdBQyxJQUFBQSxVQUFVLEVBQUU7QUFIWixHQURFO0FBTU5DLEVBQUFBLEtBQUssRUFBRTtBQUNISixJQUFBQSxJQUFJLEVBQUVSLG1CQUFVUyxNQURiO0FBRUhDLElBQUFBLFNBQVMsRUFBRTtBQUZSLEdBTkQ7QUFVTkcsRUFBQUEsTUFBTSxFQUFFO0FBQ0pM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QVIsRUFBY1MsT0FBZCxLQUEyQjtBQUNuRCxNQUFJRixNQUFNLEdBQUcsTUFBTWpDLElBQUksQ0FBQ2EsT0FBTCxDQUFhO0FBQzVCQyxJQUFBQSxLQUFLLEVBQUc7QUFDSkwsTUFBQUEsTUFBTSxFQUFHaUIsSUFBSSxDQUFDakIsTUFEVjtBQUVKRCxNQUFBQSxLQUFLLEVBQUdrQixJQUFJLENBQUNsQjtBQUZUO0FBRG9CLEdBQWIsQ0FBbkI7O0FBT0EsTUFBRyxDQUFDeUIsTUFBSixFQUFXO0FBQ1BBLElBQUFBLE1BQU0sR0FBRyxNQUFNUixVQUFVLENBQUNDLElBQUQsQ0FBekI7QUFDSCxHQUZELE1BRUs7QUFDRE8sSUFBQUEsTUFBTSxHQUFHQSxNQUFNLENBQUNMLEdBQVAsRUFBVDtBQUNBSyxJQUFBQSxNQUFNLENBQUN2QixPQUFQLEdBQWlCUyxJQUFJLENBQUNVLEtBQUwsQ0FBV0ksTUFBTSxDQUFDdkIsT0FBbEIsQ0FBakI7QUFDSDs7QUFFRHVCLEVBQUFBLE1BQU0sQ0FBQ3ZCLE9BQVAsQ0FBZVksUUFBZixDQUF3QmMsSUFBeEIsQ0FBNkJELE9BQTdCO0FBRUEsU0FBTyxNQUFNbkMsSUFBSSxDQUFDcUMsTUFBTCxDQUFZO0FBQ3JCM0IsSUFBQUEsT0FBTyxFQUFHUyxJQUFJLENBQUNDLFNBQUwsQ0FBZWEsTUFBTSxDQUFDdkIsT0FBdEI7QUFEVyxHQUFaLEVBRVY7QUFDQ0ksSUFBQUEsS0FBSyxFQUFFO0FBQ0hYLE1BQUFBLEVBQUUsRUFBR3VCLElBQUksQ0FBQ3ZCO0FBRFA7QUFEUixHQUZVLENBQWI7QUFRSCxDQXpCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvaG9uZ2NoZXcvRG9jdW1lbnRzL1Byb2dyYW1taW5nL3JlYWRpbmctbGlzdC9yZWFkaW5nLWxpc3Qtc2VydmljZXMvc3JjL2RhdGFiYXNlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuXG5sZXQgZGIgPSBuZXcgU2VxdWVsaXplKHtcbiAgICBkaWFsZWN0OiAnc3FsaXRlJyxcbiAgICBzdG9yYWdlOiAnLi9kYXRhYmFzZS5zcWxpdGUnXG59KVxuZGIuc3luYygpO1xuXG5cbmNsYXNzIEJvb2sgZXh0ZW5kcyBTZXF1ZWxpemUuTW9kZWwge31cbkJvb2suaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0aG9yOiB7XG4gICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2VcbiAgICB9LFxuICAgIGRldGFpbHM6IHtcbiAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklOR1xuICAgIH1cbn0se1xuICAgIHNlcXVlbGl6ZSA6IGRiLFxuICAgIG1vZGVsTmFtZTogJ0Jvb2snXG59KVxuXG5Cb29rLnN5bmMoKTtcblxuY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiggYXdhaXQgQm9vay5maW5kT25lKCB7IHdoZXJlIDoge1xuICAgICAgICBpZCA6IDFcbiAgICB9fSkpe1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBCb29rLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJIYXJyeSBQb3R0ZXIgYW5kIHRoZSBQaGlsb3NvcGhlcidzIFN0b25lXCIsXG4gICAgICAgICAgICBhdXRob3I6IFwiSi4gSy4gUm93bGluZ1wiLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLlwiLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzIDogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJEYW5pZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBcIlRoaXMgaXMgYW4gYW1hemluZyBib29rIVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogMiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IgOiBcIktlaXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJPbGQgYnV0IGdvbGRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIEJvb2suY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiBcIjJcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIkhhcnJ5IFBvdHRlciBhbmQgdGhlIENoYW1iZXIgb2YgU2VjcmV0c1wiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQW5nZWxhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJIGNhbid0IGJlbGlldmUgdGhlIHBsb3QgdHdpc3QhXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yIDogXCJCaWxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJJJ3ZlIHJlYWQgaXQgMjAgdGltZXMgYWxyZWFkeVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICAgICAgQm9vay5jcmVhdGUoe1xuICAgICAgICAgICAgaWQ6IFwiM1wiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSGFycnkgUG90dGVyIGFuZCB0aGUgUHJpc29uZXIgb2YgQXprYWJhblwiLFxuICAgICAgICAgICAgYXV0aG9yOiBcIkouIEsuIFJvd2xpbmdcIixcbiAgICAgICAgICAgIGRldGFpbHM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS5cIixcbiAgICAgICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiRXZlbHluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50IDogXCJXaGF0IGNhbiBJIGRvIHdpdGhvdXQgdGhpcyBib29rP1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogNixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciA6IFwiQ2hhcmxlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA6IFwiSSByZWFsbHkgbG92ZSBpdFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIF0pXG59XG5cbmluaXQoKS50aGVuKCAoKSA9PiAgZGIpXG5cbmNvbnN0IGNyZWF0ZUJvb2sgPSBhc3luYyBib29rID0+IHtcbiAgICBsZXQgbmV3Qm9vayA9ICBhd2FpdCBCb29rLmNyZWF0ZSh7XG4gICAgICAgIGlkOiBib29rLmlkLFxuICAgICAgICB0aXRsZTogYm9vay50aXRsZSxcbiAgICAgICAgYXV0aG9yOiBib29rLmF1dGhvcixcbiAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuXCIsXG4gICAgICAgICAgICBjb21tZW50cyA6IFtcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICB9KVxuICAgIG5ld0Jvb2sgPSBuZXdCb29rLmdldCgpO1xuICAgIG5ld0Jvb2suZGV0YWlscyA9IEpTT04ucGFyc2UobmV3Qm9vay5kZXRhaWxzKTtcbiAgICByZXR1cm4gbmV3Qm9vaztcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0RGV0YWlscyA9IGFzeW5jIGJvb2sgPT4ge1xuXG4gICAgbGV0IGRiQm9vayA9IGF3YWl0IEJvb2suZmluZE9uZSh7XG4gICAgICAgIHdoZXJlIDoge1xuICAgICAgICAgICAgYXV0aG9yIDogYm9vay5hdXRob3IsXG4gICAgICAgICAgICB0aXRsZSA6IGJvb2sudGl0bGVcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpZighZGJCb29rKXtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUJvb2soYm9vaylcbiAgICB9XG5cbiAgICBkYkJvb2suZGV0YWlscyA9IEpTT04ucGFyc2UoZGJCb29rLmRldGFpbHMpXG4gICAgcmV0dXJuIGRiQm9vaztcbn1cblxubW9kdWxlLmV4cG9ydHMuYWRkQ29tbWVudCA9IGFzeW5jICggYm9vaywgY29tbWVudCApID0+IHtcbiAgICBsZXQgZGJCb29rID0gYXdhaXQgQm9vay5maW5kT25lKHtcbiAgICAgICAgd2hlcmUgOiB7XG4gICAgICAgICAgICBhdXRob3IgOiBib29rLmF1dGhvcixcbiAgICAgICAgICAgIHRpdGxlIDogYm9vay50aXRsZVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmKCFkYkJvb2spe1xuICAgICAgICBkYkJvb2sgPSBhd2FpdCBjcmVhdGVCb29rKGJvb2spXG4gICAgfWVsc2V7XG4gICAgICAgIGRiQm9vayA9IGRiQm9vay5nZXQoKVxuICAgICAgICBkYkJvb2suZGV0YWlscyA9IEpTT04ucGFyc2UoZGJCb29rLmRldGFpbHMpXG4gICAgfVxuXG4gICAgZGJCb29rLmRldGFpbHMuY29tbWVudHMucHVzaChjb21tZW50KTtcblxuICAgIHJldHVybiBhd2FpdCBCb29rLnVwZGF0ZSh7XG4gICAgICAgIGRldGFpbHMgOiBKU09OLnN0cmluZ2lmeShkYkJvb2suZGV0YWlscylcbiAgICB9LCB7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBpZCA6IGJvb2suaWRcbiAgICAgICAgfVxuICAgIH0pXG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "Sequelize",
        "dialect",
        "storage",
        "sync",
        "Book",
        "Model",
        "init",
        "id",
        "type",
        "STRING",
        "allowNull",
        "primaryKey",
        "title",
        "author",
        "details",
        "sequelize",
        "modelName",
        "findOne",
        "where",
        "Promise",
        "resolve",
        "all",
        "create",
        "JSON",
        "stringify",
        "description",
        "comments",
        "content",
        "then",
        "createBook",
        "book",
        "newBook",
        "get",
        "parse",
        "module",
        "exports",
        "getDetails",
        "dbBook",
        "addComment",
        "comment",
        "push",
        "update"
      ],
      "mappings": ";;AAAA;;;;AAEA,IAAIA,EAAE,GAAG,IAAIC,kBAAJ,CAAc;AACnBC,EAAAA,OAAO,EAAE,QADU;AAEnBC,EAAAA,OAAO,EAAE;AAFU,CAAd,CAAT;AAIAH,EAAE,CAACI,IAAH;;AAGA,MAAMC,IAAN,SAAmBJ,mBAAUK,KAA7B,CAAmC;;AACnCD,IAAI,CAACE,IAAL,CAAU;AACNC,EAAAA,EAAE,EAAE;AACAC,IAAAA,IAAI,EAAER,mBAAUS,MADhB;AAEAC,IAAAA,SAAS,EAAE,KAFX;AAGAC,IAAAA,UAAU,EAAE;AAHZ,GADE;AAMNC,EAAAA,KAAK,EAAE;AACHJ,IAAAA,IAAI,EAAER,mBAAUS,MADb;AAEHC,IAAAA,SAAS,EAAE;AAFR,GAND;AAUNG,EAAAA,MAAM,EAAE;AACJL,IAAAA,IAAI,EAAER,mBAAUS,MADZ;AAEJC,IAAAA,SAAS,EAAE;AAFP,GAVF;AAcNI,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAAER,mBAAUS;AADX;AAdH,CAAV,EAiBE;AACEM,EAAAA,SAAS,EAAGhB,EADd;AAEEiB,EAAAA,SAAS,EAAE;AAFb,CAjBF;AAsBAZ,IAAI,CAACD,IAAL;;AAEA,MAAMG,IAAI,GAAG,YAAY;AACrB,MAAI,MAAMF,IAAI,CAACa,OAAL,CAAc;AAAEC,IAAAA,KAAK,EAAG;AAC9BX,MAAAA,EAAE,EAAG;AADyB;AAAV,GAAd,CAAV,EAEI;AACA,WAAOY,OAAO,CAACC,OAAR,EAAP;AACH;;AAED,SAAOD,OAAO,CAACE,GAAR,CAAY,CACfjB,IAAI,CAACkB,MAAL,CAAY;AACRf,IAAAA,EAAE,EAAE,GADI;AAERK,IAAAA,KAAK,EAAE,0CAFC;AAGRC,IAAAA,MAAM,EAAE,eAHA;AAIRC,IAAAA,OAAO,EAAES,IAAI,CAACC,SAAL,CAAe;AACpBC,MAAAA,WAAW,EAAE,6HADO;AAEpBC,MAAAA,QAAQ,EAAG,CACP;AACInB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,QAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OADO,EAMP;AACIpB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,OAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OANO;AAFS,KAAf;AAJD,GAAZ,CADe,EAqBfvB,IAAI,CAACkB,MAAL,CAAY;AACRf,IAAAA,EAAE,EAAE,GADI;AAERK,IAAAA,KAAK,EAAE,yCAFC;AAGRC,IAAAA,MAAM,EAAE,eAHA;AAIRC,IAAAA,OAAO,EAAES,IAAI,CAACC,SAAL,CAAe;AACpBC,MAAAA,WAAW,EAAE,6HADO;AAEpBC,MAAAA,QAAQ,EAAG,CACP;AACInB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,QAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OADO,EAMP;AACIpB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,MAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OANO;AAFS,KAAf;AAJD,GAAZ,CArBe,EAyCfvB,IAAI,CAACkB,MAAL,CAAY;AACRf,IAAAA,EAAE,EAAE,GADI;AAERK,IAAAA,KAAK,EAAE,0CAFC;AAGRC,IAAAA,MAAM,EAAE,eAHA;AAIRC,IAAAA,OAAO,EAAES,IAAI,CAACC,SAAL,CAAe;AACpBC,MAAAA,WAAW,EAAE,6HADO;AAEpBC,MAAAA,QAAQ,EAAG,CACP;AACInB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,QAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OADO,EAMP;AACIpB,QAAAA,EAAE,EAAG,CADT;AAEIM,QAAAA,MAAM,EAAG,SAFb;AAGIc,QAAAA,OAAO,EAAG;AAHd,OANO;AAFS,KAAf;AAJD,GAAZ,CAzCe,CAAZ,CAAP;AA8DH,CArED;;AAuEArB,IAAI,GAAGsB,IAAP,CAAa,MAAO7B,EAApB;;AAEA,MAAM8B,UAAU,GAAG,MAAMC,IAAN,IAAc;AAC7B,MAAIC,OAAO,GAAI,MAAM3B,IAAI,CAACkB,MAAL,CAAY;AAC7Bf,IAAAA,EAAE,EAAEuB,IAAI,CAACvB,EADoB;AAE7BK,IAAAA,KAAK,EAAEkB,IAAI,CAAClB,KAFiB;AAG7BC,IAAAA,MAAM,EAAEiB,IAAI,CAACjB,MAHgB;AAI7BC,IAAAA,OAAO,EAAES,IAAI,CAACC,SAAL,CAAe;AACpBC,MAAAA,WAAW,EAAE,6HADO;AAEpBC,MAAAA,QAAQ,EAAG;AAFS,KAAf;AAJoB,GAAZ,CAArB;AAUAK,EAAAA,OAAO,GAAGA,OAAO,CAACC,GAAR,EAAV;AACAD,EAAAA,OAAO,CAACjB,OAAR,GAAkBS,IAAI,CAACU,KAAL,CAAWF,OAAO,CAACjB,OAAnB,CAAlB;AACA,SAAOiB,OAAP;AACH,CAdD;;AAgBAG,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA4B,MAAMN,IAAN,IAAc;AAEtC,MAAIO,MAAM,GAAG,MAAMjC,IAAI,CAACa,OAAL,CAAa;AAC5BC,IAAAA,KAAK,EAAG;AACJL,MAAAA,MAAM,EAAGiB,IAAI,CAACjB,MADV;AAEJD,MAAAA,KAAK,EAAGkB,IAAI,CAAClB;AAFT;AADoB,GAAb,CAAnB;;AAOA,MAAG,CAACyB,MAAJ,EAAW;AACP,WAAO,MAAMR,UAAU,CAACC,IAAD,CAAvB;AACH;;AAEDO,EAAAA,MAAM,CAACvB,OAAP,GAAiBS,IAAI,CAACU,KAAL,CAAWI,MAAM,CAACvB,OAAlB,CAAjB;AACA,SAAOuB,MAAP;AACH,CAfD;;AAiBAH,MAAM,CAACC,OAAP,CAAeG,UAAf,GAA4B,OAAQR,IAAR,EAAcS,OAAd,KAA2B;AACnD,MAAIF,MAAM,GAAG,MAAMjC,IAAI,CAACa,OAAL,CAAa;AAC5BC,IAAAA,KAAK,EAAG;AACJL,MAAAA,MAAM,EAAGiB,IAAI,CAACjB,MADV;AAEJD,MAAAA,KAAK,EAAGkB,IAAI,CAAClB;AAFT;AADoB,GAAb,CAAnB;;AAOA,MAAG,CAACyB,MAAJ,EAAW;AACPA,IAAAA,MAAM,GAAG,MAAMR,UAAU,CAACC,IAAD,CAAzB;AACH,GAFD,MAEK;AACDO,IAAAA,MAAM,GAAGA,MAAM,CAACL,GAAP,EAAT;AACAK,IAAAA,MAAM,CAACvB,OAAP,GAAiBS,IAAI,CAACU,KAAL,CAAWI,MAAM,CAACvB,OAAlB,CAAjB;AACH;;AAEDuB,EAAAA,MAAM,CAACvB,OAAP,CAAeY,QAAf,CAAwBc,IAAxB,CAA6BD,OAA7B;AAEA,SAAO,MAAMnC,IAAI,CAACqC,MAAL,CAAY;AACrB3B,IAAAA,OAAO,EAAGS,IAAI,CAACC,SAAL,CAAea,MAAM,CAACvB,OAAtB;AADW,GAAZ,EAEV;AACCI,IAAAA,KAAK,EAAE;AACHX,MAAAA,EAAE,EAAGuB,IAAI,CAACvB;AADP;AADR,GAFU,CAAb;AAQH,CAzBD",
      "sourceRoot": "/Users/hongchew/Documents/Programming/reading-list/reading-list-services/src/database",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nlet db = new Sequelize({\n    dialect: 'sqlite',\n    storage: './database.sqlite'\n})\ndb.sync();\n\n\nclass Book extends Sequelize.Model {}\nBook.init({\n    id: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true\n    },\n    title: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    author: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    details: {\n        type: Sequelize.STRING\n    }\n},{\n    sequelize : db,\n    modelName: 'Book'\n})\n\nBook.sync();\n\nconst init = async () => {\n    if( await Book.findOne( { where : {\n        id : 1\n    }})){\n        return Promise.resolve()\n    }\n\n    return Promise.all([\n        Book.create({\n            id: \"1\",\n            title: \"Harry Potter and the Philosopher's Stone\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 1,\n                        author : \"Daniel\",\n                        content : \"This is an amazing book!\"\n                    },\n                    {\n                        id : 2, \n                        author : \"Keith\",\n                        content : \"Old but gold\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"2\",\n            title: \"Harry Potter and the Chamber of Secrets\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 3,\n                        author : \"Angela\",\n                        content : \"I can't believe the plot twist!\"\n                    },\n                    {\n                        id : 4,\n                        author : \"Bili\",\n                        content : \"I've read it 20 times already\"\n                    }\n                ]\n            })\n        }),\n        Book.create({\n            id: \"3\",\n            title: \"Harry Potter and the Prisoner of Azkaban\",\n            author: \"J. K. Rowling\",\n            details: JSON.stringify({\n                description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n                comments : [\n                    { \n                        id : 5,\n                        author : \"Evelyn\",\n                        content : \"What can I do without this book?\"\n                    },\n                    {\n                        id : 6,\n                        author : \"Charles\",\n                        content : \"I really love it\"\n                    }\n                ]\n            })\n        })\n    ])\n}\n\ninit().then( () =>  db)\n\nconst createBook = async book => {\n    let newBook =  await Book.create({\n        id: book.id,\n        title: book.title,\n        author: book.author,\n        details: JSON.stringify({\n            description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n            comments : [\n            ]\n        })\n    })\n    newBook = newBook.get();\n    newBook.details = JSON.parse(newBook.details);\n    return newBook;\n}\n\nmodule.exports.getDetails = async book => {\n\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        return await createBook(book)\n    }\n\n    dbBook.details = JSON.parse(dbBook.details)\n    return dbBook;\n}\n\nmodule.exports.addComment = async ( book, comment ) => {\n    let dbBook = await Book.findOne({\n        where : {\n            author : book.author,\n            title : book.title\n        }\n    })\n\n    if(!dbBook){\n        dbBook = await createBook(book)\n    }else{\n        dbBook = dbBook.get()\n        dbBook.details = JSON.parse(dbBook.details)\n    }\n\n    dbBook.details.comments.push(comment);\n\n    return await Book.update({\n        details : JSON.stringify(dbBook.details)\n    }, {\n        where: {\n            id : book.id\n        }\n    })\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578520969420
  }
}